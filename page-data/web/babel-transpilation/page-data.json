{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/web/babel-transpilation/","result":{"data":{"site":{"siteMetadata":{"title":"Youthfulhps.dev","description":"프론트엔드 주니어 개발자, 트러블슈팅에 대한 고민의 흔적을 기록으로 남기는 것을 좋아합니다.","author":"youthfulhps","siteUrl":"https://youthfulhps.dev","thumbnail":"/banner.png","comment":{"disqusShortName":"youthfulhps","utterances":"youthfulhps/youthfulhps.github.io"},"sponsor":{"buyMeACoffeeId":"youthfulhps"}}},"markdownRemark":{"id":"0833c55b-8ab2-5045-a077-63a468f4074b","excerpt":"브라우저들이 가지고 있는 자바스크립트 엔진은 일반적으로 표준화되어 있지만, 호환 가능한 코드의 미묘한 차이가 존재한다. 은 개발자가\n작성한 최신  기능이 담긴 한 벌의 코드를 통해 제품이 제공되는 이전 환경들과의 호환성을 유지할 수 있도록 하는 사전 설정 도구인 컴파일러 및\n변환 시스템이다. 의 기원은  코드를 로 변환하기 위해 설계된 6to5로 시작되어,\n그 변환 범위가 확장됨에 따라 Not Born to Die…","html":"<p>브라우저들이 가지고 있는 자바스크립트 엔진은 일반적으로 표준화되어 있지만, 호환 가능한 코드의 미묘한 차이가 존재한다. <code class=\"language-text\">babel</code>은 개발자가\n작성한 최신 <code class=\"language-text\">ECMAScript</code> 기능이 담긴 한 벌의 코드를 통해 제품이 제공되는 이전 환경들과의 호환성을 유지할 수 있도록 하는 사전 설정 도구인 컴파일러 및\n변환 시스템이다.</p>\n<p><code class=\"language-text\">babel</code>의 기원은 <code class=\"language-text\">ECMAScript6 (ES6)</code> 코드를 <code class=\"language-text\">ECMAScript5 (ES5)</code>로 변환하기 위해 설계된 <a href=\"https://www.npmjs.com/package/6to5\">6to5</a>로 시작되어,\n그 변환 범위가 확장됨에 따라 <a href=\"https://babeljs.io/blog/2015/02/15/not-born-to-die\">Not Born to Die</a>를 통해 <code class=\"language-text\">babel</code>이라는 이름으로 재구성되었다.\n덕분에 감사하게도 동작 환경에 구애 받지 않고 그저 고급 문법을 사용해 코드를 작성할 수 있게 되었다.</p>\n<blockquote>\n<p>6to5 is now Babel. … Always bet on JavaScript.</p>\n</blockquote>\n<h2 id=\"핵심-아키텍처\" style=\"position:relative;\"><a href=\"#%ED%95%B5%EC%8B%AC-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98\" aria-label=\"핵심 아키텍처 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>핵심 아키텍처</h2>\n<p><code class=\"language-text\">babel</code> 생태계에서 제공하는 코드 변환 과정의 핵심적인 아키텍처는 다음과 같이 구성되어 있다. 대표적으로 구문 분석에 사용되는 <code class=\"language-text\">@babel/parser</code>,\n추상 구문 트리(이하 <code class=\"language-text\">AST</code>)를 효율적으로 순회하기 위한 메커니즘이 담긴 <code class=\"language-text\">@babel/traverse</code>, 그리고 재생성을 담당하는 <code class=\"language-text\">@babel/generator</code>이 있다.\n더불어 일관된 구문 분석과 변환을 위해 그 구조를 정의한 <code class=\"language-text\">@babel/types</code>, 마지막으로 이 모든 과정을 중추에서 관장하는 <code class=\"language-text\">@babel/core</code>가 있다.</p>\n<p><svg aria-roledescription=\"flowchart-v2\" role=\"graphics-document document\" viewBox=\"0 0 628.0040283203125 740.375\" style=\"max-width: 628.0040283203125px;\" class=\"flowchart\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" id=\"mermaid-0\"><style>#mermaid-0{font-family:arial,sans-serif;font-size:16px;fill:#ccc;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-0 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-0 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-0 .error-icon{fill:#a44141;}#mermaid-0 .error-text{fill:#ddd;stroke:#ddd;}#mermaid-0 .edge-thickness-normal{stroke-width:1px;}#mermaid-0 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-0 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-0 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-0 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-0 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-0 .marker{fill:lightgrey;stroke:lightgrey;}#mermaid-0 .marker.cross{stroke:lightgrey;}#mermaid-0 svg{font-family:arial,sans-serif;font-size:16px;}#mermaid-0 p{margin:0;}#mermaid-0 .label{font-family:arial,sans-serif;color:#ccc;}#mermaid-0 .cluster-label text{fill:#F9FFFE;}#mermaid-0 .cluster-label span{color:#F9FFFE;}#mermaid-0 .cluster-label span p{background-color:transparent;}#mermaid-0 .label text,#mermaid-0 span{fill:#ccc;color:#ccc;}#mermaid-0 .node rect,#mermaid-0 .node circle,#mermaid-0 .node ellipse,#mermaid-0 .node polygon,#mermaid-0 .node path{fill:#1f2020;stroke:#ccc;stroke-width:1px;}#mermaid-0 .rough-node .label text,#mermaid-0 .node .label text,#mermaid-0 .image-shape .label,#mermaid-0 .icon-shape .label{text-anchor:middle;}#mermaid-0 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-0 .rough-node .label,#mermaid-0 .node .label,#mermaid-0 .image-shape .label,#mermaid-0 .icon-shape .label{text-align:center;}#mermaid-0 .node.clickable{cursor:pointer;}#mermaid-0 .root .anchor path{fill:lightgrey!important;stroke-width:0;stroke:lightgrey;}#mermaid-0 .arrowheadPath{fill:lightgrey;}#mermaid-0 .edgePath .path{stroke:lightgrey;stroke-width:2.0px;}#mermaid-0 .flowchart-link{stroke:lightgrey;fill:none;}#mermaid-0 .edgeLabel{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#mermaid-0 .edgeLabel p{background-color:hsl(0, 0%, 34.4117647059%);}#mermaid-0 .edgeLabel rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#mermaid-0 .labelBkg{background-color:rgba(87.75, 87.75, 87.75, 0.5);}#mermaid-0 .cluster rect{fill:hsl(180, 1.5873015873%, 28.3529411765%);stroke:rgba(255, 255, 255, 0.25);stroke-width:1px;}#mermaid-0 .cluster text{fill:#F9FFFE;}#mermaid-0 .cluster span{color:#F9FFFE;}#mermaid-0 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:arial,sans-serif;font-size:12px;background:hsl(20, 1.5873015873%, 12.3529411765%);border:1px solid rgba(255, 255, 255, 0.25);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-0 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#ccc;}#mermaid-0 rect.text{fill:none;stroke-width:0;}#mermaid-0 .icon-shape,#mermaid-0 .image-shape{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#mermaid-0 .icon-shape p,#mermaid-0 .image-shape p{background-color:hsl(0, 0%, 34.4117647059%);padding:2px;}#mermaid-0 .icon-shape rect,#mermaid-0 .image-shape rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#mermaid-0 .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-0 .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-0 .label{line-height:normal;font-size:0.7em;}#mermaid-0 :root{--mermaid-font-family:arial,sans-serif;}</style><g><marker orient=\"auto\" markerHeight=\"8\" markerWidth=\"8\" markerUnits=\"userSpaceOnUse\" refY=\"5\" refX=\"5\" viewBox=\"0 0 10 10\" class=\"marker flowchart-v2\" id=\"mermaid-0_flowchart-v2-pointEnd\"><path style=\"stroke-width: 1; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" d=\"M 0 0 L 10 5 L 0 10 z\"></path></marker><marker orient=\"auto\" markerHeight=\"8\" markerWidth=\"8\" markerUnits=\"userSpaceOnUse\" refY=\"5\" refX=\"4.5\" viewBox=\"0 0 10 10\" class=\"marker flowchart-v2\" id=\"mermaid-0_flowchart-v2-pointStart\"><path style=\"stroke-width: 1; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" d=\"M 0 5 L 10 10 L 10 0 z\"></path></marker><marker orient=\"auto\" markerHeight=\"11\" markerWidth=\"11\" markerUnits=\"userSpaceOnUse\" refY=\"5\" refX=\"11\" viewBox=\"0 0 10 10\" class=\"marker flowchart-v2\" id=\"mermaid-0_flowchart-v2-circleEnd\"><circle style=\"stroke-width: 1; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" r=\"5\" cy=\"5\" cx=\"5\"></circle></marker><marker orient=\"auto\" markerHeight=\"11\" markerWidth=\"11\" markerUnits=\"userSpaceOnUse\" refY=\"5\" refX=\"-1\" viewBox=\"0 0 10 10\" class=\"marker flowchart-v2\" id=\"mermaid-0_flowchart-v2-circleStart\"><circle style=\"stroke-width: 1; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" r=\"5\" cy=\"5\" cx=\"5\"></circle></marker><marker orient=\"auto\" markerHeight=\"11\" markerWidth=\"11\" markerUnits=\"userSpaceOnUse\" refY=\"5.2\" refX=\"12\" viewBox=\"0 0 11 11\" class=\"marker cross flowchart-v2\" id=\"mermaid-0_flowchart-v2-crossEnd\"><path style=\"stroke-width: 2; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" d=\"M 1,1 l 9,9 M 10,1 l -9,9\"></path></marker><marker orient=\"auto\" markerHeight=\"11\" markerWidth=\"11\" markerUnits=\"userSpaceOnUse\" refY=\"5.2\" refX=\"-1\" viewBox=\"0 0 11 11\" class=\"marker cross flowchart-v2\" id=\"mermaid-0_flowchart-v2-crossStart\"><path style=\"stroke-width: 2; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" d=\"M 1,1 l 9,9 M 10,1 l -9,9\"></path></marker><g class=\"root\"><g class=\"clusters\"></g><g class=\"edgePaths\"><path marker-end=\"url(#mermaid-0_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_A_B_0\" d=\"M70.656,54.797L70.656,58.964C70.656,63.13,70.656,71.464,71.382,79.144C72.108,86.824,73.56,93.852,74.286,97.366L75.012,100.88\"></path><path marker-end=\"url(#mermaid-0_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_B_C_0\" d=\"M80.656,151.594L80.656,155.76C80.656,159.927,80.656,168.26,87.159,176.256C93.661,184.251,106.666,191.907,113.169,195.736L119.671,199.564\"></path><path marker-end=\"url(#mermaid-0_flowchart-v2-pointEnd)\" marker-start=\"url(#mermaid-0_flowchart-v2-pointStart)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_D_C_0\" d=\"M261.727,155.594L261.727,159.094C261.727,162.594,261.727,169.594,253.814,176.967C245.901,184.341,230.075,192.088,222.163,195.962L214.25,199.835\"></path><path marker-end=\"url(#mermaid-0_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_C_E_0\" d=\"M162.859,248.391L162.859,252.557C162.859,256.724,162.859,265.057,171.341,273.113C179.823,281.168,196.786,288.946,205.268,292.835L213.749,296.724\"></path><path marker-end=\"url(#mermaid-0_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_F_G_0\" d=\"M84.012,345.188L84.012,349.354C84.012,353.521,84.012,361.854,109.865,371.587C135.717,381.32,187.423,392.453,213.276,398.019L239.129,403.586\"></path><path marker-end=\"url(#mermaid-0_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_E_G_0\" d=\"M268.418,345.188L268.418,349.354C268.418,353.521,268.418,361.854,271.467,369.676C274.516,377.497,280.615,384.807,283.664,388.461L286.713,392.116\"></path><path marker-end=\"url(#mermaid-0_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_G_H_0\" d=\"M308.797,441.984L308.797,446.151C308.797,450.318,308.797,458.651,308.797,466.318C308.797,473.984,308.797,480.984,308.797,484.484L308.797,487.984\"></path><path marker-end=\"url(#mermaid-0_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_H_I_0\" d=\"M308.797,538.781L308.797,542.948C308.797,547.115,308.797,555.448,313.697,563.375C318.598,571.303,328.399,578.824,333.3,582.585L338.2,586.346\"></path><path marker-end=\"url(#mermaid-0_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_I_J_0\" d=\"M371.863,635.578L371.863,639.745C371.863,643.911,371.863,652.245,371.863,659.911C371.863,667.578,371.863,674.578,371.863,678.078L371.863,681.578\"></path><path marker-end=\"url(#mermaid-0_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_K_B_0\" d=\"M385.773,41.843L348.343,48.169C310.913,54.494,236.052,67.146,192.26,77.295C148.468,87.443,135.744,95.09,129.382,98.913L123.02,102.736\"></path><path marker-end=\"url(#mermaid-0_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_K_D_0\" d=\"M385.773,47.493L365.099,52.877C344.424,58.261,303.076,69.029,282.401,77.913C261.727,86.797,261.727,93.797,261.727,97.297L261.727,100.797\"></path><path marker-end=\"url(#mermaid-0_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_K_E_0\" d=\"M490.779,54.797L498.472,58.964C506.165,63.13,521.551,71.464,529.244,83.697C536.938,95.93,536.938,112.063,536.938,128.195C536.938,144.328,536.938,160.461,536.938,176.594C536.938,192.727,536.938,208.859,536.938,224.992C536.938,241.125,536.938,257.258,504.696,271.136C472.454,285.013,407.971,296.636,375.729,302.447L343.487,308.258\"></path><path marker-end=\"url(#mermaid-0_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_K_G_0\" d=\"M509.383,51.023L524.486,55.818C539.59,60.614,569.797,70.205,584.9,83.068C600.004,95.93,600.004,112.063,600.004,128.195C600.004,144.328,600.004,160.461,600.004,176.594C600.004,192.727,600.004,208.859,600.004,224.992C600.004,241.125,600.004,257.258,600.004,273.391C600.004,289.523,600.004,305.656,600.004,321.789C600.004,337.922,600.004,354.055,563.087,368.257C526.169,382.459,452.335,394.73,415.418,400.866L378.501,407.001\"></path><path marker-end=\"url(#mermaid-0_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_K_I_0\" d=\"M509.383,48.746L527.82,53.922C546.257,59.097,583.13,69.447,601.567,82.688C620.004,95.93,620.004,112.063,620.004,128.195C620.004,144.328,620.004,160.461,620.004,176.594C620.004,192.727,620.004,208.859,620.004,224.992C620.004,241.125,620.004,257.258,620.004,273.391C620.004,289.523,620.004,305.656,620.004,321.789C620.004,337.922,620.004,354.055,620.004,370.188C620.004,386.32,620.004,402.453,620.004,418.586C620.004,434.719,620.004,450.852,620.004,466.984C620.004,483.117,620.004,499.25,620.004,515.383C620.004,531.516,620.004,547.648,591.779,561.22C563.555,574.791,507.106,585.801,478.881,591.306L450.656,596.812\"></path><path marker-end=\"url(#mermaid-0_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_K_L_0\" d=\"M443.42,54.797L442.679,58.964C441.939,63.13,440.458,71.464,439.717,79.13C438.977,86.797,438.977,93.797,438.977,97.297L438.977,100.797\"></path></g><g class=\"edgeLabels\"><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g></g><g class=\"nodes\"><g transform=\"translate(70.65625, 31.3984375)\" id=\"flowchart-A-0\" class=\"node default\"><rect height=\"46.796875\" width=\"125.3125\" y=\"-23.3984375\" x=\"-62.65625\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-32.65625, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"65.3125\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Source Code</p></span></div></foreignObject></g></g><g transform=\"translate(80.65625, 128.1953125)\" id=\"flowchart-B-1\" class=\"node default\"><rect height=\"46.796875\" width=\"133.5625\" y=\"-23.3984375\" x=\"-66.78125\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-36.78125, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"73.5625\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>@babel/parser</p></span></div></foreignObject></g></g><g transform=\"translate(162.859375, 224.9921875)\" id=\"flowchart-C-3\" class=\"node default\"><rect height=\"46.796875\" width=\"163.84375\" y=\"-23.3984375\" x=\"-81.921875\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-51.921875, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"103.84375\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Abstract Syntax Tree</p></span></div></foreignObject></g></g><g transform=\"translate(261.7265625, 128.1953125)\" id=\"flowchart-D-4\" class=\"node default\"><rect height=\"46.796875\" width=\"128.578125\" y=\"-23.3984375\" x=\"-64.2890625\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-34.2890625, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"68.578125\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>@babel/types</p></span></div></foreignObject></g></g><g transform=\"translate(268.41796875, 321.7890625)\" id=\"flowchart-E-7\" class=\"node default\"><rect height=\"46.796875\" width=\"142.265625\" y=\"-23.3984375\" x=\"-71.1328125\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-41.1328125, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"82.265625\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>@babel/traverse</p></span></div></foreignObject></g></g><g transform=\"translate(84.01171875, 321.7890625)\" id=\"flowchart-F-8\" class=\"node default\"><rect height=\"46.796875\" width=\"126.546875\" y=\"-23.3984375\" x=\"-63.2734375\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-33.2734375, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"66.546875\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Configuration</p></span></div></foreignObject></g></g><g transform=\"translate(308.796875, 418.5859375)\" id=\"flowchart-G-9\" class=\"node default\"><rect height=\"46.796875\" width=\"131.515625\" y=\"-23.3984375\" x=\"-65.7578125\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-35.7578125, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"71.515625\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Plugin System</p></span></div></foreignObject></g></g><g transform=\"translate(308.796875, 515.3828125)\" id=\"flowchart-H-13\" class=\"node default\"><rect height=\"46.796875\" width=\"126.546875\" y=\"-23.3984375\" x=\"-63.2734375\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-33.2734375, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"66.546875\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Modified AST</p></span></div></foreignObject></g></g><g transform=\"translate(371.86328125, 612.1796875)\" id=\"flowchart-I-15\" class=\"node default\"><rect height=\"46.796875\" width=\"149.734375\" y=\"-23.3984375\" x=\"-74.8671875\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-44.8671875, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"89.734375\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>@babel/generator</p></span></div></foreignObject></g></g><g transform=\"translate(371.86328125, 708.9765625)\" id=\"flowchart-J-17\" class=\"node default\"><rect height=\"46.796875\" width=\"123.453125\" y=\"-23.3984375\" x=\"-61.7265625\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-31.7265625, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"63.453125\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Output Code</p></span></div></foreignObject></g></g><g transform=\"translate(447.578125, 31.3984375)\" id=\"flowchart-K-18\" class=\"node default\"><rect height=\"46.796875\" width=\"123.609375\" y=\"-23.3984375\" x=\"-61.8046875\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-31.8046875, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"63.609375\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>@babel/core</p></span></div></foreignObject></g></g><g transform=\"translate(438.9765625, 128.1953125)\" id=\"flowchart-L-29\" class=\"node default\"><rect height=\"46.796875\" width=\"125.921875\" y=\"-23.3984375\" x=\"-62.9609375\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-32.9609375, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"65.921875\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Source Maps</p></span></div></foreignObject></g></g></g></g></g></svg></p>\n<h2 id=\"구문-분석\" style=\"position:relative;\"><a href=\"#%EA%B5%AC%EB%AC%B8-%EB%B6%84%EC%84%9D\" aria-label=\"구문 분석 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>구문 분석</h2>\n<p>구문 분석은 <code class=\"language-text\">@babel/parser</code>가 담당한다. <code class=\"language-text\">babel</code>의 도구들이 해석하고 조작 가능한 구조인 <code class=\"language-text\">AST</code>로 변환하는 역할을 한다.</p>\n<deckgo-highlight-code language=\"js\" theme=\"nord\"  >\n          <code slot=\"code\">const { parse } = require(&#39;@babel/parser&#39;);\n\nconst code = `function greet(input) {\n  return input ?? &quot;Hello world&quot;;\n}`;\n\nconst ast = parse(code, {\n  sourceType: &#39;module&#39;,\n  plugins: [],\n});</code>\n        </deckgo-highlight-code>\n<details>\n  <summary><deckgo-highlight-code language=\"javascript\">\n<code slot=\"code\">console.log(JSON.stringify(ast, null, 2));</code>\n  </deckgo-highlight-code></summary>\n  <deckgo-highlight-code language=\"json\">\n<code slot=\"code\">\n{\n  \"type\": \"File\",\n  \"start\": 0,\n  \"end\": 58,\n  \"loc\": {\n    \"start\": {\n      \"line\": 1,\n      \"column\": 0,\n      \"index\": 0\n    },\n    \"end\": {\n      \"line\": 3,\n      \"column\": 1,\n      \"index\": 58\n    }\n  },\n  \"errors\": [],\n  \"program\": {\n    \"type\": \"Program\",\n    \"start\": 0,\n    \"end\": 58,\n    \"loc\": {\n      \"start\": {\n        \"line\": 1,\n        \"column\": 0,\n        \"index\": 0\n      },\n      \"end\": {\n        \"line\": 3,\n        \"column\": 1,\n        \"index\": 58\n      }\n    },\n    \"sourceType\": \"module\",\n    \"interpreter\": null,\n    \"body\": [\n      {\n        \"type\": \"FunctionDeclaration\",\n        \"start\": 0,\n        \"end\": 58,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 0,\n            \"index\": 0\n          },\n          \"end\": {\n            \"line\": 3,\n            \"column\": 1,\n            \"index\": 58\n          }\n        },\n        \"id\": {\n          \"type\": \"Identifier\",\n          \"start\": 9,\n          \"end\": 14,\n          \"loc\": {\n            \"start\": {\n              \"line\": 1,\n              \"column\": 9,\n              \"index\": 9\n            },\n            \"end\": {\n              \"line\": 1,\n              \"column\": 14,\n              \"index\": 14\n            },\n            \"identifierName\": \"greet\"\n          },\n          \"name\": \"greet\"\n        },\n        \"generator\": false,\n        \"async\": false,\n        \"params\": [\n          {\n            \"type\": \"Identifier\",\n            \"start\": 15,\n            \"end\": 20,\n            \"loc\": {\n              \"start\": {\n                \"line\": 1,\n                \"column\": 15,\n                \"index\": 15\n              },\n              \"end\": {\n                \"line\": 1,\n                \"column\": 20,\n                \"index\": 20\n              },\n              \"identifierName\": \"input\"\n            },\n            \"name\": \"input\"\n          }\n        ],\n        \"body\": {\n          \"type\": \"BlockStatement\",\n          \"start\": 22,\n          \"end\": 58,\n          \"loc\": {\n            \"start\": {\n              \"line\": 1,\n              \"column\": 22,\n              \"index\": 22\n            },\n            \"end\": {\n              \"line\": 3,\n              \"column\": 1,\n              \"index\": 58\n            }\n          },\n          \"body\": [\n            {\n              \"type\": \"ReturnStatement\",\n              \"start\": 26,\n              \"end\": 56,\n              \"loc\": {\n                \"start\": {\n                  \"line\": 2,\n                  \"column\": 2,\n                  \"index\": 26\n                },\n                \"end\": {\n                  \"line\": 2,\n                  \"column\": 32,\n                  \"index\": 56\n                }\n              },\n              \"argument\": {\n                \"type\": \"LogicalExpression\",\n                \"start\": 33,\n                \"end\": 55,\n                \"loc\": {\n                  \"start\": {\n                    \"line\": 2,\n                    \"column\": 9,\n                    \"index\": 33\n                  },\n                  \"end\": {\n                    \"line\": 2,\n                    \"column\": 31,\n                    \"index\": 55\n                  }\n                },\n                \"left\": {\n                  \"type\": \"Identifier\",\n                  \"start\": 33,\n                  \"end\": 38,\n                  \"loc\": {\n                    \"start\": {\n                      \"line\": 2,\n                      \"column\": 9,\n                      \"index\": 33\n                    },\n                    \"end\": {\n                      \"line\": 2,\n                      \"column\": 14,\n                      \"index\": 38\n                    },\n                    \"identifierName\": \"input\"\n                  },\n                  \"name\": \"input\"\n                },\n                \"operator\": \"??\",\n                \"right\": {\n                  \"type\": \"StringLiteral\",\n                  \"start\": 42,\n                  \"end\": 55,\n                  \"loc\": {\n                    \"start\": {\n                      \"line\": 2,\n                      \"column\": 18,\n                      \"index\": 42\n                    },\n                    \"end\": {\n                      \"line\": 2,\n                      \"column\": 31,\n                      \"index\": 55\n                    }\n                  },\n                  \"extra\": {\n                    \"rawValue\": \"Hello world\",\n                    \"raw\": \"\\\\\"Hello world\\\\\"\"\n                  },\n                  \"value\": \"Hello world\"\n                }\n              }\n            }\n          ],\n          \"directives\": []\n        }\n      }\n    ],\n    \"directives\": [],\n    \"extra\": {\n      \"topLevelAwait\": false\n    }\n  },\n  \"comments\": []\n}\n</code>\n  </deckgo-highlight-code>\n</details>\n<h3 id=\"ecmascript-기능을-위한-플러그인-시스템\" style=\"position:relative;\"><a href=\"#ecmascript-%EA%B8%B0%EB%8A%A5%EC%9D%84-%EC%9C%84%ED%95%9C-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EC%8B%9C%EC%8A%A4%ED%85%9C\" aria-label=\"ecmascript 기능을 위한 플러그인 시스템 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ECMAScript 기능을 위한 플러그인 시스템</h3>\n<p><code class=\"language-text\">@babel/parser</code>는 고전 문법은 물론, 플러그인 시스템을 통한 최신 <code class=\"language-text\">ECMAScript</code> 구문 및 실험적인 기능에 대한 분석을 지원한다.\n<a href=\"https://tc39.es/\">TC39</a>를 통해 제안된 새로운 문법과 기능이 <a href=\"https://tc39.es/process-document/\">스테이지 3</a>에 도달하면\n정식 문법으로 채택될 가능성이 매우 높다고 판단하고, 브라우저와 <code class=\"language-text\">babel</code>과 같은 툴링을 유지보수하는 팀들에 의해 적극적으로 도입이 시도된다.</p>\n<p><code class=\"language-text\">babel</code>의 경우 스테이지 3에 도달한 새로운 기능 제안은 플러그인을 통해 실험적 옵션으로 제공되며, 이를 통해 분석 단계에서 해당 문법을 분석 가능하도록 지원한다.\n이후 정식 문법이 되면 해당 플러그인은 기본으로 내장된다.</p>\n<p>구문 분석을 돕기 위한 플러그인은 <code class=\"language-text\">@babel/plugin-syntax-*</code> 형식의 이름으로 제공되며, 그 예시로 <code class=\"language-text\">optional chaining</code> 문법을 분석하기 위한\n<code class=\"language-text\">@babel/plugin-syntax-optional-chaining</code>이 있다.</p>\n<deckgo-highlight-code language=\"js\" theme=\"nord\"  >\n          <code slot=\"code\">// input\nconst val = obj?.prop;</code>\n        </deckgo-highlight-code>\n<p>2017년 9월경 <a href=\"https://github.com/babel/babel/issues/5905\">how to add syntax-optional-chaining plugins?</a>에서\n<code class=\"language-text\">babel-plugin-syntax-optional-chaining@7.0.0-alpha.17</code>가 언급되고 <code class=\"language-text\">babel v7</code> 베타 시점에 해당 플러그인이 등장했다. 이후\n<a href=\"https://babeljs.io/docs/babel-plugin-transform-optional-chaining\">babel v7.8.0</a>에서 분석, 변환 단계에서 사용할 수 있는 정식 플러그인으로\n추가되어 <code class=\"language-text\">preset-env</code>를 통해 <code class=\"language-text\">optional chaining</code> 문법을 분석 및 변환할 수 있게 되었다.</p>\n<deckgo-highlight-code language=\"js\" theme=\"nord\"  >\n          <code slot=\"code\">// output\nvar _obj;\nconst val = (_obj = obj) === null || _obj === void 0 ? void 0 : _obj.prop;</code>\n        </deckgo-highlight-code>\n<p><em><code class=\"language-text\">babel-plugin-*</code>, <code class=\"language-text\">@babel/plugin-*</code>는 시대적 네임스페이스 차이 일뿐 같은 플러그인입니다. <code class=\"language-text\">babel v7</code> 부터 <code class=\"language-text\">@babel/plugin-*</code> 방식으로 공식\n패키지의 네임스페이스로 규격화 되었습니다.</em></p>\n<h3 id=\"언어-확장을-위한-플러그인-시스템\" style=\"position:relative;\"><a href=\"#%EC%96%B8%EC%96%B4-%ED%99%95%EC%9E%A5%EC%9D%84-%EC%9C%84%ED%95%9C-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EC%8B%9C%EC%8A%A4%ED%85%9C\" aria-label=\"언어 확장을 위한 플러그인 시스템 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>언어 확장을 위한 플러그인 시스템</h3>\n<p><code class=\"language-text\">@babel/parser</code>는 단순히 최신 <code class=\"language-text\">ECMAScript</code> 구문 분석 뿐만 아니라, <code class=\"language-text\">JSX</code>, <code class=\"language-text\">typescript</code>, <code class=\"language-text\">flow</code>와 같은 확장된 언어 또한\n플러그인 시스템을 통해 분석을 지원한다.</p>\n<p>가령 <code class=\"language-text\">typescript</code>에 대한 언어 확장 분석을 지원하기 위해 기존 <code class=\"language-text\">@babel/parser</code>에 <code class=\"language-text\">TypeScriptParserMixin</code>이 믹스인 플러그인을 통해 부여된다.\n해당 믹스인에 포함된 메서드들은 <code class=\"language-text\">tsParse*()</code>라는 이름으로 <code class=\"language-text\">type</code>, <code class=\"language-text\">annotation</code>, <code class=\"language-text\">signatureMember</code>, <code class=\"language-text\">modifiers</code> 구문을 각각 담당하고 있다.\n이 중 타입 표현식 분석을 담당하는 <code class=\"language-text\">tsParseType()</code>을 살펴보자.</p>\n<p><code class=\"language-text\">tsParseType()</code>는 현재 파서의 컨텍스트가 타입 컨텍스트에 있는지 확인을 통해 시작한다. 이 검증은 <code class=\"language-text\">typescript</code>와 <code class=\"language-text\">JSX</code> 모두 <code class=\"language-text\">&lt;></code>와 같은\n문법을 사용하고 있기 때문에 타입 컨텍스트에 있는다는 것을 명확히 해야만 <code class=\"language-text\">&lt;T></code> 구문을 타입 인수로 해석할 수 있기 때문이다.</p>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">// packages/babel-parser/src/plugins/typescript/index.ts\ntsParseType(): N.TsType {\n  assert(this.state.inType);\n  ...</code>\n        </deckgo-highlight-code>\n<p>이후 토큰화 과정을 통해 생성된 타입 구문의 토큰 시퀸스를 순차적으로 확인하며 타입 구문을 분석한다.\n<code class=\"language-text\">tsParseType()</code>은 크게 <code class=\"language-text\">extends</code> 키워드가 토큰 시퀸스에 존재하는지에 따라 분기가 나뉜다.</p>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">// packages/babel-parser/src/plugins/typescript/index.ts\ntsParseType(): N.TsType {\n  assert(this.state.inType);\n  const type = this.tsParseNonConditionalType();\n\n  if (\n    ...\n    !this.eat(tt._extends) // extends 키워드가 존재하는지 확인\n  ) {\n    return type; // 기본 타입으로 반환\n  }\n  // 조건부 타입 분석 진행</code>\n        </deckgo-highlight-code>\n<p>타입 표현식에서 사용할 수 있는 복잡한 구조인 조건부 타입으로 해당 타입이 선언되었다고 가정해보자.\n이는 다음과 같은 토큰들로 이루어진 시퀸스를 구성하게 된다.</p>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">type Example = checkType extends extendsType ? trueType : falseType;</code>\n        </deckgo-highlight-code>\n<deckgo-highlight-code language=\"json\" theme=\"nord\"  >\n          <code slot=\"code\">type         → tt._type, 타입 선언 키워드\nExample      → tt.name, 식별자 토큰\n=            → tt.eq, 할당 연산자\ncheckType    → tt.name, 식별자 토큰\nextends      → tt._extends, extends 키워드\nextendsType  → tt.name, 식별자 토큰\n?            → tt.question, 물음표 연산자\ntrueType     → tt.name, 식별자 토큰\n:            → tt.colon, 콜론 연산자\nfalseType    → tt.name, 식별자 토큰\n;            → tt.semi, 세미콜론 (구문 종료)</code>\n        </deckgo-highlight-code>\n<p>하지만 구문 분석기는 토큰 시퀸스를 순차적으로 분석할 수 밖에 없기 때문에 <code class=\"language-text\">checkType</code> 이라는 타입 식별자를 분석하는 단계에선\n해당 타입 구문이 조건부 타입의 구조를 가지고 있는지 알 수 없다. 즉, 구문 분석기는 토큰 시퀸스 흐름에 따라 먼저 <code class=\"language-text\">checkType</code>을\n단순한 타입 식별자로 판단하고 <code class=\"language-text\">tsParseNonConditionalType()</code>를 통해 분석한다.</p>\n<p><code class=\"language-text\">_type</code> 토큰 이후에 등장하는 <code class=\"language-text\">name</code> 토큰은 <code class=\"language-text\">tsParseNonConditionalType()</code>을 통해 분석되고 소비되는데, 이 과정은 해당 식별자 타입이\n함수 시그니처나 <code class=\"language-text\">new</code> 키워드로 시작하는 생성자 타입인지 먼저 확인하고,\n이후 <code class=\"language-text\">tsParseUnionTypeOrHigher()</code>를 통해 타입 우선순위에 따라 일반적인 타입 표현식을 처리한다.</p>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">// packages/babel-parser/src/plugins/typescript/index.ts\ntsParseNonConditionalType(): N.TsType {\n  if (this.tsIsStartOfFunctionType()) { // 함수 시그니처 검사\n    return this.tsParseFunctionOrConstructorType(&quot;TSFunctionType&quot;);\n  }\n\n  if (this.match(tt._new)) { // 생성자 타입 검사\n    return this.tsParseFunctionOrConstructorType(&quot;TSConstructorType&quot;);\n  }\n\n  return this.tsParseUnionTypeOrHigher(); // 일반적인 타입 표현식 처리\n}</code>\n        </deckgo-highlight-code>\n<p><code class=\"language-text\">tsParseUnionTypeOrHigher()</code>에서는 일반적인 타입 표현식을 처리하게 되는데, 기본 타입을 분석하는 단계까지 가기 위해서\n타입 시스템 상의 우선순위에 입각하여 낮은 우선 순위 순서대로 유니언 타입(<code class=\"language-text\">|</code>), 교집합 타입(<code class=\"language-text\">&amp;</code>), 타입 연산자(<code class=\"language-text\">keyof</code>, <code class=\"language-text\">readonly</code> 등),\n배열/인덱스 접근과 같은 타입 분석이 순차적으로 이루어진다.</p>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">// packages/babel-parser/src/plugins/typescript/index.ts\ntsParseUnionTypeOrHigher() {\n  return this.tsParseUnionOrIntersectionType(\n    &quot;TSUnionType&quot;,\n    this.tsParseIntersectionTypeOrHigher.bind(this),\n    tt.bitwiseOR\n  );\n}</code>\n        </deckgo-highlight-code>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">// packages/babel-parser/src/plugins/typescript/index.ts\ntsParseIntersectionTypeOrHigher() {\n  return this.tsParseUnionOrIntersectionType(\n    &quot;TSIntersectionType&quot;,\n    this.tsParseTypeOperatorOrHigher.bind(this),\n    tt.bitwiseAND\n  );\n}</code>\n        </deckgo-highlight-code>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">// packages/babel-parser/src/plugins/typescript/index.ts\ntsParseTypeOperatorOrHigher(): N.TsType {\n  const isTypeOperator = tokenIsTSTypeOperator(this.state.type);\n  return isTypeOperator\n    ? this.tsParseTypeOperator()\n    : this.isContextual(tt._infer)\n      ? this.tsParseInferType()\n      : this.tsParseArrayTypeOrHigher();\n}</code>\n        </deckgo-highlight-code>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">// packages/babel-parser/src/plugins/typescript/index.ts\ntsParseArrayTypeOrHigher(): N.TsType {\n  let type = this.tsParseNonArrayType();\n\n  while (this.eat(tt.bracketL)) {\n    if (this.match(tt.bracketR)) {\n    } else {\n      ...\n    }\n  }\n  return type;\n}</code>\n        </deckgo-highlight-code>\n<p>위 과정은 타입시스템의 우선순위에 따라 낮은 우선 순위의 연산자부터 처리하기 시작하는데, 현재 처리 중인 연산자보다 높은 연산자가 이후에 등장할 것을 감안하여\n더 높은 연산자 분석을 담당하는 메서드에게 지속적으로 분석을 위임하는 과정을 거쳐 타입시스템의 우선순위에 입각해 해석할 수 있도록 한다. 최종적으로 더 이상 분해할 수 없는\n기본 타입들을 토큰 종류에 따라 처리하게 된다.</p>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">// packages/babel-parser/src/plugins/typescript/index.ts\ntsParseNonArrayType(): N.TsType {\n  switch (this.state.type) {\n    case tt.string:\n    case tt.num:\n    case tt.bigint:\n    case tt._true:\n    case tt._false:\n      return this.tsParseLiteralTypeNode();\n    case tt._this:\n      return this.tsParseThisTypeOrThisTypePredicate();\n    case tt._typeof:\n      return this.tsParseTypeQuery();\n    case tt.braceL:\n      return this.tsLookAhead(this.tsIsStartOfMappedType.bind(this))\n        ? this.tsParseMappedType()\n        : this.tsParseTypeLiteral();\n    case tt.bracketL:\n      return this.tsParseTupleType();\n    ...\n  }\n}</code>\n        </deckgo-highlight-code>\n<p>이후 <code class=\"language-text\">extends</code> 식별자 토큰을 만나게 되면, <code class=\"language-text\">eat()</code> 메서드를 통해 조건 확인을 거친 후 토큰은 소비되며, 이 과정을 통해\n해당 토큰 시퀸스가 조건부 타입임을 확인하고 해당 분기로 분석이 진행된다.</p>\n<p>참고로 <code class=\"language-text\">eat()</code>은 토큰 시퀸스에서 등장하는 키워드들이 사전 정의된 타입과 일치하는지 확인하고,\n소비하는 역할을 담당하는 메서드로 네이밍이 상당히 직관적이며, 토큰 시퀸스를 읽고 키워드를 확인하는 과정에서 자주 등장한다.</p>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">// packages/babel-parser/src/tokenizer/index.ts\neat(type: TokenType): boolean {\n  if (this.match(type)) {\n    this.next(); // 소비 후 다음 토큰으로 이동\n    return true; // 사전 정의된 타입과 일치하는지 확인\n  } else {\n    return false;\n  }\n}</code>\n        </deckgo-highlight-code>\n<p>소비된 <code class=\"language-text\">extends</code> 토큰 이후로 만나게 되는 <code class=\"language-text\">extendsType</code>, <code class=\"language-text\">trueType</code>, <code class=\"language-text\">falseType</code> 식별자 토큰들은 같은 방식의 재귀적인 방식으로\n<code class=\"language-text\">tsParseNonConditionalType()</code>를 통해 분석되고, 최종적으로 <code class=\"language-text\">TSConditionalType</code> 타입을 가지는 노드가 반환된다.</p>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">extendsType ? trueType : falseType;</code>\n        </deckgo-highlight-code>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">// packages/babel-parser/src/plugins/typescript/index.ts\ntsParseType(): N.TsType {\n  ...\n  const type = this.tsParseNonConditionalType();\n\n  if (\n    this.state.inDisallowConditionalTypesContext ||\n    this.hasPrecedingLineBreak() ||\n    !this.eat(tt._extends)\n  ) {\n    return type;\n  }\n  const node = this.startNodeAtNode&lt;N.TsConditionalType&gt;(type);\n  node.checkType = type;\n\n  node.extendsType = this.tsInDisallowConditionalTypesContext(() =&gt;\n    this.tsParseNonConditionalType(),\n  );\n\n  this.expect(tt.question);\n  node.trueType = this.tsInAllowConditionalTypesContext(() =&gt;\n    this.tsParseType(),\n  );\n\n  this.expect(tt.colon);\n  node.falseType = this.tsInAllowConditionalTypesContext(() =&gt;\n    this.tsParseType(),\n  );\n\n  return this.finishNode(node, &quot;TSConditionalType&quot;);\n}</code>\n        </deckgo-highlight-code>\n<p><em>그외 <code class=\"language-text\">annotation</code>, <code class=\"language-text\">signatureMember</code>, <code class=\"language-text\">modifiers</code> 구문을 분석하는 메서드들은 각각 <code class=\"language-text\">tsParseTypeAnnotation()</code>,\n<code class=\"language-text\">tsParseSignatureMember()</code>, <code class=\"language-text\">tsParseModifiers()</code>로 <a href=\"https://github.com/babel/babel/blob/6c8faf172180280cd15b2f9aa1f35ad233f8a8c2/packages/babel-parser/src/plugins/typescript/index.ts\">@babel/parser</a>를 살펴보시는 것을\n추천드립니다.</em></p>\n<h3 id=\"ast-노드-생성-방식\" style=\"position:relative;\"><a href=\"#ast-%EB%85%B8%EB%93%9C-%EC%83%9D%EC%84%B1-%EB%B0%A9%EC%8B%9D\" aria-label=\"ast 노드 생성 방식 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AST 노드 생성 방식</h3>\n<p>위처럼 플러그인 시스템을 통해 분석이 완료된 토큰들은 <code class=\"language-text\">AST</code>를 구성하는 노드로 생성된다. 그렇다면 노드는 어떻게 생성되는 것일까.</p>\n<p><svg aria-roledescription=\"flowchart-v2\" role=\"graphics-document document\" viewBox=\"0 -35 1090.046875 291.390625\" style=\"max-width: 1090.046875px;\" class=\"flowchart\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" id=\"mermaid-1\"><style>#mermaid-1{font-family:arial,sans-serif;font-size:16px;fill:#ccc;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-1 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-1 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-1 .error-icon{fill:#a44141;}#mermaid-1 .error-text{fill:#ddd;stroke:#ddd;}#mermaid-1 .edge-thickness-normal{stroke-width:1px;}#mermaid-1 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-1 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1 .marker{fill:lightgrey;stroke:lightgrey;}#mermaid-1 .marker.cross{stroke:lightgrey;}#mermaid-1 svg{font-family:arial,sans-serif;font-size:16px;}#mermaid-1 p{margin:0;}#mermaid-1 .label{font-family:arial,sans-serif;color:#ccc;}#mermaid-1 .cluster-label text{fill:#F9FFFE;}#mermaid-1 .cluster-label span{color:#F9FFFE;}#mermaid-1 .cluster-label span p{background-color:transparent;}#mermaid-1 .label text,#mermaid-1 span{fill:#ccc;color:#ccc;}#mermaid-1 .node rect,#mermaid-1 .node circle,#mermaid-1 .node ellipse,#mermaid-1 .node polygon,#mermaid-1 .node path{fill:#1f2020;stroke:#ccc;stroke-width:1px;}#mermaid-1 .rough-node .label text,#mermaid-1 .node .label text,#mermaid-1 .image-shape .label,#mermaid-1 .icon-shape .label{text-anchor:middle;}#mermaid-1 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-1 .rough-node .label,#mermaid-1 .node .label,#mermaid-1 .image-shape .label,#mermaid-1 .icon-shape .label{text-align:center;}#mermaid-1 .node.clickable{cursor:pointer;}#mermaid-1 .root .anchor path{fill:lightgrey!important;stroke-width:0;stroke:lightgrey;}#mermaid-1 .arrowheadPath{fill:lightgrey;}#mermaid-1 .edgePath .path{stroke:lightgrey;stroke-width:2.0px;}#mermaid-1 .flowchart-link{stroke:lightgrey;fill:none;}#mermaid-1 .edgeLabel{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#mermaid-1 .edgeLabel p{background-color:hsl(0, 0%, 34.4117647059%);}#mermaid-1 .edgeLabel rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#mermaid-1 .labelBkg{background-color:rgba(87.75, 87.75, 87.75, 0.5);}#mermaid-1 .cluster rect{fill:hsl(180, 1.5873015873%, 28.3529411765%);stroke:rgba(255, 255, 255, 0.25);stroke-width:1px;}#mermaid-1 .cluster text{fill:#F9FFFE;}#mermaid-1 .cluster span{color:#F9FFFE;}#mermaid-1 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:arial,sans-serif;font-size:12px;background:hsl(20, 1.5873015873%, 12.3529411765%);border:1px solid rgba(255, 255, 255, 0.25);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#ccc;}#mermaid-1 rect.text{fill:none;stroke-width:0;}#mermaid-1 .icon-shape,#mermaid-1 .image-shape{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#mermaid-1 .icon-shape p,#mermaid-1 .image-shape p{background-color:hsl(0, 0%, 34.4117647059%);padding:2px;}#mermaid-1 .icon-shape rect,#mermaid-1 .image-shape rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#mermaid-1 .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-1 .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-1 .label{line-height:normal;font-size:0.7em;}#mermaid-1 :root{--mermaid-font-family:arial,sans-serif;}</style><g><marker orient=\"auto\" markerHeight=\"8\" markerWidth=\"8\" markerUnits=\"userSpaceOnUse\" refY=\"5\" refX=\"5\" viewBox=\"0 0 10 10\" class=\"marker flowchart-v2\" id=\"mermaid-1_flowchart-v2-pointEnd\"><path style=\"stroke-width: 1; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" d=\"M 0 0 L 10 5 L 0 10 z\"></path></marker><marker orient=\"auto\" markerHeight=\"8\" markerWidth=\"8\" markerUnits=\"userSpaceOnUse\" refY=\"5\" refX=\"4.5\" viewBox=\"0 0 10 10\" class=\"marker flowchart-v2\" id=\"mermaid-1_flowchart-v2-pointStart\"><path style=\"stroke-width: 1; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" d=\"M 0 5 L 10 10 L 10 0 z\"></path></marker><marker orient=\"auto\" markerHeight=\"11\" markerWidth=\"11\" markerUnits=\"userSpaceOnUse\" refY=\"5\" refX=\"11\" viewBox=\"0 0 10 10\" class=\"marker flowchart-v2\" id=\"mermaid-1_flowchart-v2-circleEnd\"><circle style=\"stroke-width: 1; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" r=\"5\" cy=\"5\" cx=\"5\"></circle></marker><marker orient=\"auto\" markerHeight=\"11\" markerWidth=\"11\" markerUnits=\"userSpaceOnUse\" refY=\"5\" refX=\"-1\" viewBox=\"0 0 10 10\" class=\"marker flowchart-v2\" id=\"mermaid-1_flowchart-v2-circleStart\"><circle style=\"stroke-width: 1; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" r=\"5\" cy=\"5\" cx=\"5\"></circle></marker><marker orient=\"auto\" markerHeight=\"11\" markerWidth=\"11\" markerUnits=\"userSpaceOnUse\" refY=\"5.2\" refX=\"12\" viewBox=\"0 0 11 11\" class=\"marker cross flowchart-v2\" id=\"mermaid-1_flowchart-v2-crossEnd\"><path style=\"stroke-width: 2; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" d=\"M 1,1 l 9,9 M 10,1 l -9,9\"></path></marker><marker orient=\"auto\" markerHeight=\"11\" markerWidth=\"11\" markerUnits=\"userSpaceOnUse\" refY=\"5.2\" refX=\"-1\" viewBox=\"0 0 11 11\" class=\"marker cross flowchart-v2\" id=\"mermaid-1_flowchart-v2-crossStart\"><path style=\"stroke-width: 2; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" d=\"M 1,1 l 9,9 M 10,1 l -9,9\"></path></marker><g class=\"root\"><g class=\"clusters\"></g><g class=\"edgePaths\"><path marker-end=\"url(#mermaid-1_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_A_B_0\" d=\"M133.313,69.797L137.479,69.797C141.646,69.797,149.979,69.797,157.646,69.797C165.313,69.797,172.313,69.797,175.813,69.797L179.313,69.797\"></path><path marker-end=\"url(#mermaid-1_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_B_C_0\" d=\"M291.203,69.797L295.37,69.797C299.536,69.797,307.87,69.797,315.536,69.797C323.203,69.797,330.203,69.797,333.703,69.797L337.203,69.797\"></path><path marker-end=\"url(#mermaid-1_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_C_D_0\" d=\"M404.958,46.398L413.991,34.165C423.024,21.932,441.09,-2.534,465.044,-14.767C488.997,-27,518.839,-27,548.68,-27C578.521,-27,608.362,-27,634.196,-5.628C660.031,15.745,681.858,58.49,692.772,79.862L703.686,101.234\"></path><path marker-end=\"url(#mermaid-1_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_D_E_0\" d=\"M771.703,128.195L775.87,128.195C780.036,128.195,788.37,128.195,796.036,128.195C803.703,128.195,810.703,128.195,814.203,128.195L817.703,128.195\"></path><path marker-end=\"url(#mermaid-1_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_E_F_0\" d=\"M950.281,128.195L954.448,128.195C958.615,128.195,966.948,128.195,974.615,128.195C982.281,128.195,989.281,128.195,992.781,128.195L996.281,128.195\"></path><path marker-end=\"url(#mermaid-1_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_C_G_0\" d=\"M416.318,93.195L423.458,99.029C430.597,104.862,444.877,116.529,456.606,122.362C468.336,128.195,477.516,128.195,482.105,128.195L486.695,128.195\"></path><path marker-end=\"url(#mermaid-1_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_C_H_0\" d=\"M416.716,46.398L423.79,40.699C430.863,34.999,445.01,23.599,455.598,18.653C466.186,13.707,473.216,15.214,476.73,15.968L480.245,16.722\"></path><path marker-end=\"url(#mermaid-1_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_C_I_0\" d=\"M398.456,93.195L408.573,115.161C418.689,137.128,438.923,181.06,453.266,203.026C467.609,224.992,476.063,224.992,480.289,224.992L484.516,224.992\"></path><path marker-end=\"url(#mermaid-1_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_G_D_0\" d=\"M606.664,128.195L611.921,128.195C617.177,128.195,627.69,128.195,636.447,128.195C645.203,128.195,652.203,128.195,655.703,128.195L659.203,128.195\"></path><path marker-end=\"url(#mermaid-1_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_H_C_0\" d=\"M494.128,54.797L488.299,57.297C482.471,59.797,470.813,64.797,461.485,67.297C452.156,69.797,445.156,69.797,441.656,69.797L438.156,69.797\"></path><path marker-end=\"url(#mermaid-1_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_I_D_0\" d=\"M608.844,224.992L613.737,224.992C618.63,224.992,628.417,224.992,642.903,213.275C657.39,201.558,676.576,178.123,686.169,166.406L695.762,154.689\"></path></g><g class=\"edgeLabels\"><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g></g><g class=\"nodes\"><g transform=\"translate(70.65625, 69.796875)\" id=\"flowchart-A-0\" class=\"node default\"><rect height=\"46.796875\" width=\"125.3125\" y=\"-23.3984375\" x=\"-62.65625\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-32.65625, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"65.3125\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Source Code</p></span></div></foreignObject></g></g><g transform=\"translate(237.2578125, 69.796875)\" id=\"flowchart-B-1\" class=\"node default\"><rect height=\"46.796875\" width=\"107.890625\" y=\"-23.3984375\" x=\"-53.9453125\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-23.9453125, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"47.890625\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Tokenizer</p></span></div></foreignObject></g></g><g transform=\"translate(387.6796875, 69.796875)\" id=\"flowchart-C-3\" class=\"node default\"><rect height=\"46.796875\" width=\"92.953125\" y=\"-23.3984375\" x=\"-46.4765625\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-16.4765625, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"32.953125\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Parser</p></span></div></foreignObject></g></g><g transform=\"translate(717.453125, 128.1953125)\" id=\"flowchart-D-5\" class=\"node default\"><rect height=\"46.796875\" width=\"108.5\" y=\"-23.3984375\" x=\"-54.25\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-24.25, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"48.5\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>NodeUtils</p></span></div></foreignObject></g></g><g transform=\"translate(885.9921875, 128.1953125)\" id=\"flowchart-E-7\" class=\"node default\"><rect height=\"46.796875\" width=\"128.578125\" y=\"-23.3984375\" x=\"-64.2890625\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-34.2890625, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"68.578125\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>@babel/types</p></span></div></foreignObject></g></g><g transform=\"translate(1041.1640625, 128.1953125)\" id=\"flowchart-F-9\" class=\"node default\"><rect height=\"46.796875\" width=\"81.765625\" y=\"-23.3984375\" x=\"-40.8828125\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-10.8828125, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"21.765625\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>AST</p></span></div></foreignObject></g></g><g transform=\"translate(548.6796875, 128.1953125)\" id=\"flowchart-G-11\" class=\"node default\"><rect height=\"46.796875\" width=\"115.96875\" y=\"-23.3984375\" x=\"-57.984375\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-27.984375, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"55.96875\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>startNode()</p></span></div></foreignObject></g></g><g transform=\"translate(548.6796875, 31.3984375)\" id=\"flowchart-H-13\" class=\"node default\"><rect height=\"46.796875\" width=\"129.046875\" y=\"-23.3984375\" x=\"-64.5234375\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-34.5234375, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"69.046875\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Parse content</p></span></div></foreignObject></g></g><g transform=\"translate(548.6796875, 224.9921875)\" id=\"flowchart-I-15\" class=\"node default\"><rect height=\"46.796875\" width=\"120.328125\" y=\"-23.3984375\" x=\"-60.1640625\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-30.1640625, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"60.328125\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>finishNode()</p></span></div></foreignObject></g></g></g></g></g></svg></p>\n<p><code class=\"language-text\">@babel/parser</code>에서 생성되는 모든 <code class=\"language-text\">AST</code>의 노드는 <code class=\"language-text\">Node</code> 클래스를 기반으로 생성된다. 이 클래스는 코드상에서의 위치 정보, 타입, 범위 등의 기본 속성을 포함하고 있다.</p>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">// packages/babel-parser/src/parser/node.ts\nclass Node implements NodeBase {\n  constructor(parser: UtilParser, pos: number, loc: Position) {\n    this.start = pos;\n    this.end = 0;\n    this.loc = new SourceLocation(loc);\n    if (parser?.optionFlags &amp; OptionFlags.Ranges) this.range = [pos, 0];\n    if (parser?.filename) this.loc.filename = parser.filename;\n  }\n\n  type: string = &#39;&#39;;\n  declare start: number;\n  declare end: number;\n  declare loc: SourceLocation;\n  declare range: [number, number];\n  declare leadingComments: Array&lt;Comment&gt;;\n  declare trailingComments: Array&lt;Comment&gt;;\n  declare innerComments: Array&lt;Comment&gt;;\n  declare extra: {\n    [key: string]: any;\n  };\n}</code>\n        </deckgo-highlight-code>\n<p>파싱 과정에서 새로운 <code class=\"language-text\">AST</code> 노드를 생성할때 <code class=\"language-text\">startNode()</code>를 통해 새로운 노드를 생성하고, 현재 파서의 위치 정보를 사용하여\n해당 노드의 시작점을 설정한다.</p>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">// packages/babel-parser/src/parser/node.ts\nexport abstract class NodeUtils extends UtilParser {\n  startNode&lt;T extends NodeType = never&gt;(): Undone&lt;T&gt; {\n    const loc = this.state.startLoc;\n    return new Node(this, loc.index, loc) as unknown as Undone&lt;T&gt;;\n  }\n  ...</code>\n        </deckgo-highlight-code>\n<p>이후 구문 파싱을 위한 적절한 메서드를 호출하고, 노드 타입을 결정한다.</p>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">// packages/babel-parser/src/parser/statement.ts\nparseStatementContent(\n  this: Parser,\n  flags: ParseStatementFlag,\n  decorators?: N.Decorator[] | null,\n): N.Statement {\n  const startType = this.state.type;\n  const node = this.startNode();\n  const allowDeclaration = !!(flags &amp; ParseStatementFlag.AllowDeclaration);\n  const allowFunctionDeclaration = !!(\n    flags &amp; ParseStatementFlag.AllowFunctionDeclaration\n  );\n  const topLevel = flags &amp; ParseStatementFlag.AllowImportExport;\n  ...</code>\n        </deckgo-highlight-code>\n<p>분석이 완료된 후 마지막으로 <code class=\"language-text\">finishNode()</code>를 통해 노드의 타입과 끝 위치를 설정하여\n노드를 완성한다.</p>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">// packages/babel-parser/src/parser/node.ts\nexport abstract class NodeUtils extends UtilParser {\n  finishNode&lt;T extends NodeType&gt;(node: Undone&lt;T&gt;, type: T[&quot;type&quot;]): T {\n    return this.finishNodeAt(node, type, this.state.lastTokEndLoc);\n  }\n\n  // Finish node at given position\n  finishNodeAt&lt;T extends NodeType&gt;(\n    node: Omit&lt;T, &quot;type&quot;&gt;,\n    type: T[&quot;type&quot;],\n    endLoc: Position,\n  ): T {\n    if (process.env.NODE_ENV !== &quot;production&quot; &amp;&amp; node.end &gt; 0) {\n      // throw new Error\n    }\n    (node as T).type = type;\n    node.end = endLoc.index;\n    node.loc.end = endLoc;\n    if (this.optionFlags &amp; OptionFlags.Ranges) node.range[1] = endLoc.index;\n    if (this.optionFlags &amp; OptionFlags.AttachComment) {\n      this.processComment(node as T);\n    }\n    return node as T;\n  }\n  ...</code>\n        </deckgo-highlight-code>\n<p>위와 같은 분석 과정을 도와주는 플러그인은 다음과 같이 <code class=\"language-text\">parse()</code> 플러그인 옵션에 추가하여 사용할 수 있다.</p>\n<deckgo-highlight-code language=\"js\" theme=\"nord\"  >\n          <code slot=\"code\">parse(code, {\n  plugins: [\n    [&#39;typescript&#39;, { dts: true, disallowAmbiguousJSXLike: true }],\n    [&#39;flow&#39;, { all: true, enums: true }],\n    &#39;jsx&#39;,\n  ],\n});</code>\n        </deckgo-highlight-code>\n<deckgo-highlight-code language=\"js\" theme=\"nord\"  >\n          <code slot=\"code\">const { parse } = require(&#39;@babel/parser&#39;);\n\nconst typeScriptCode = `\ntype NumberType = number;\n`;\n\nconst ast = parse(typeScriptCode, {\n  sourceType: &#39;module&#39;,\n  plugins: [&#39;typescript&#39;],\n});</code>\n        </deckgo-highlight-code>\n<details>\n  <summary><deckgo-highlight-code language=\"javascript\">\n<code slot=\"code\">console.log(JSON.stringify(ast, null, 2));</code>\n  </deckgo-highlight-code></summary>\n  <deckgo-highlight-code language=\"json\">\n<code slot=\"code\">\n{\n  \"type\": \"File\",\n  \"start\": 0,\n  \"end\": 27,\n  \"loc\": {\n    \"start\": {\n      \"line\": 1,\n      \"column\": 0,\n      \"index\": 0\n    },\n    \"end\": {\n      \"line\": 3,\n      \"column\": 0,\n      \"index\": 27\n    }\n  },\n  \"errors\": [],\n  \"program\": {\n    \"type\": \"Program\",\n    \"start\": 0,\n    \"end\": 27,\n    \"loc\": {\n      \"start\": {\n        \"line\": 1,\n        \"column\": 0,\n        \"index\": 0\n      },\n      \"end\": {\n        \"line\": 3,\n        \"column\": 0,\n        \"index\": 27\n      }\n    },\n    \"sourceType\": \"module\",\n    \"interpreter\": null,\n    \"body\": [\n      {\n        \"type\": \"TSTypeAliasDeclaration\",\n        \"start\": 1,\n        \"end\": 26,\n        \"loc\": {\n          \"start\": {\n            \"line\": 2,\n            \"column\": 0,\n            \"index\": 1\n          },\n          \"end\": {\n            \"line\": 2,\n            \"column\": 25,\n            \"index\": 26\n          }\n        },\n        \"id\": {\n          \"type\": \"Identifier\",\n          \"start\": 6,\n          \"end\": 16,\n          \"loc\": {\n            \"start\": {\n              \"line\": 2,\n              \"column\": 5,\n              \"index\": 6\n            },\n            \"end\": {\n              \"line\": 2,\n              \"column\": 15,\n              \"index\": 16\n            },\n            \"identifierName\": \"NumberType\"\n          },\n          \"name\": \"NumberType\"\n        },\n        \"typeAnnotation\": {\n          \"type\": \"TSNumberKeyword\",\n          \"start\": 19,\n          \"end\": 25,\n          \"loc\": {\n            \"start\": {\n              \"line\": 2,\n              \"column\": 18,\n              \"index\": 19\n            },\n            \"end\": {\n              \"line\": 2,\n              \"column\": 24,\n              \"index\": 25\n            }\n          }\n        }\n      }\n    ],\n    \"directives\": [],\n    \"extra\": {\n      \"topLevelAwait\": false\n    }\n  },\n  \"comments\": []\n}\n</code>\n  </deckgo-highlight-code>\n</details>\n<h2 id=\"변환\" style=\"position:relative;\"><a href=\"#%EB%B3%80%ED%99%98\" aria-label=\"변환 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>변환</h2>\n<p>구문 분석이 완료된 결과로 얻어진 <code class=\"language-text\">AST</code>는 이제 대상 환경에서 해석가능한 문법으로 변환하는 과정을 거치게 된다.\n이는 <code class=\"language-text\">@babel/traverse</code>를 통해 트리 구조에 포함된 각각의 노드를 순회하며 개별 노드 혹은 노드 간의 관계를\n기반으로 진행된다.</p>\n<p>그렇다면 해당 단계에서 지원하고자 하는 대상 환경에 맞게 변환하기 위한 플러그인들은 어떻게 선정되는 것일까.\n이는 대표적으로 <code class=\"language-text\">@babel/preset-env</code>를 통해 대상 환경에 필요한 구문 변환을 위해 세부적으로 관리하지 않고도\n어떤 변환 플러그인과 폴리필이 필요한지 결정해주는 사전 설정 덕분이다.</p>\n<p><svg aria-roledescription=\"flowchart-v2\" role=\"graphics-document document\" viewBox=\"0 0 1256.6875 449.984375\" style=\"max-width: 1256.6875px;\" class=\"flowchart\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" id=\"mermaid-2\"><style>#mermaid-2{font-family:arial,sans-serif;font-size:16px;fill:#ccc;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-2 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-2 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-2 .error-icon{fill:#a44141;}#mermaid-2 .error-text{fill:#ddd;stroke:#ddd;}#mermaid-2 .edge-thickness-normal{stroke-width:1px;}#mermaid-2 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-2 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-2 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-2 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-2 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-2 .marker{fill:lightgrey;stroke:lightgrey;}#mermaid-2 .marker.cross{stroke:lightgrey;}#mermaid-2 svg{font-family:arial,sans-serif;font-size:16px;}#mermaid-2 p{margin:0;}#mermaid-2 .label{font-family:arial,sans-serif;color:#ccc;}#mermaid-2 .cluster-label text{fill:#F9FFFE;}#mermaid-2 .cluster-label span{color:#F9FFFE;}#mermaid-2 .cluster-label span p{background-color:transparent;}#mermaid-2 .label text,#mermaid-2 span{fill:#ccc;color:#ccc;}#mermaid-2 .node rect,#mermaid-2 .node circle,#mermaid-2 .node ellipse,#mermaid-2 .node polygon,#mermaid-2 .node path{fill:#1f2020;stroke:#ccc;stroke-width:1px;}#mermaid-2 .rough-node .label text,#mermaid-2 .node .label text,#mermaid-2 .image-shape .label,#mermaid-2 .icon-shape .label{text-anchor:middle;}#mermaid-2 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-2 .rough-node .label,#mermaid-2 .node .label,#mermaid-2 .image-shape .label,#mermaid-2 .icon-shape .label{text-align:center;}#mermaid-2 .node.clickable{cursor:pointer;}#mermaid-2 .root .anchor path{fill:lightgrey!important;stroke-width:0;stroke:lightgrey;}#mermaid-2 .arrowheadPath{fill:lightgrey;}#mermaid-2 .edgePath .path{stroke:lightgrey;stroke-width:2.0px;}#mermaid-2 .flowchart-link{stroke:lightgrey;fill:none;}#mermaid-2 .edgeLabel{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#mermaid-2 .edgeLabel p{background-color:hsl(0, 0%, 34.4117647059%);}#mermaid-2 .edgeLabel rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#mermaid-2 .labelBkg{background-color:rgba(87.75, 87.75, 87.75, 0.5);}#mermaid-2 .cluster rect{fill:hsl(180, 1.5873015873%, 28.3529411765%);stroke:rgba(255, 255, 255, 0.25);stroke-width:1px;}#mermaid-2 .cluster text{fill:#F9FFFE;}#mermaid-2 .cluster span{color:#F9FFFE;}#mermaid-2 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:arial,sans-serif;font-size:12px;background:hsl(20, 1.5873015873%, 12.3529411765%);border:1px solid rgba(255, 255, 255, 0.25);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-2 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#ccc;}#mermaid-2 rect.text{fill:none;stroke-width:0;}#mermaid-2 .icon-shape,#mermaid-2 .image-shape{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#mermaid-2 .icon-shape p,#mermaid-2 .image-shape p{background-color:hsl(0, 0%, 34.4117647059%);padding:2px;}#mermaid-2 .icon-shape rect,#mermaid-2 .image-shape rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#mermaid-2 .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-2 .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-2 .label{line-height:normal;font-size:0.7em;}#mermaid-2 :root{--mermaid-font-family:arial,sans-serif;}</style><g><marker orient=\"auto\" markerHeight=\"8\" markerWidth=\"8\" markerUnits=\"userSpaceOnUse\" refY=\"5\" refX=\"5\" viewBox=\"0 0 10 10\" class=\"marker flowchart-v2\" id=\"mermaid-2_flowchart-v2-pointEnd\"><path style=\"stroke-width: 1; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" d=\"M 0 0 L 10 5 L 0 10 z\"></path></marker><marker orient=\"auto\" markerHeight=\"8\" markerWidth=\"8\" markerUnits=\"userSpaceOnUse\" refY=\"5\" refX=\"4.5\" viewBox=\"0 0 10 10\" class=\"marker flowchart-v2\" id=\"mermaid-2_flowchart-v2-pointStart\"><path style=\"stroke-width: 1; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" d=\"M 0 5 L 10 10 L 10 0 z\"></path></marker><marker orient=\"auto\" markerHeight=\"11\" markerWidth=\"11\" markerUnits=\"userSpaceOnUse\" refY=\"5\" refX=\"11\" viewBox=\"0 0 10 10\" class=\"marker flowchart-v2\" id=\"mermaid-2_flowchart-v2-circleEnd\"><circle style=\"stroke-width: 1; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" r=\"5\" cy=\"5\" cx=\"5\"></circle></marker><marker orient=\"auto\" markerHeight=\"11\" markerWidth=\"11\" markerUnits=\"userSpaceOnUse\" refY=\"5\" refX=\"-1\" viewBox=\"0 0 10 10\" class=\"marker flowchart-v2\" id=\"mermaid-2_flowchart-v2-circleStart\"><circle style=\"stroke-width: 1; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" r=\"5\" cy=\"5\" cx=\"5\"></circle></marker><marker orient=\"auto\" markerHeight=\"11\" markerWidth=\"11\" markerUnits=\"userSpaceOnUse\" refY=\"5.2\" refX=\"12\" viewBox=\"0 0 11 11\" class=\"marker cross flowchart-v2\" id=\"mermaid-2_flowchart-v2-crossEnd\"><path style=\"stroke-width: 2; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" d=\"M 1,1 l 9,9 M 10,1 l -9,9\"></path></marker><marker orient=\"auto\" markerHeight=\"11\" markerWidth=\"11\" markerUnits=\"userSpaceOnUse\" refY=\"5.2\" refX=\"-1\" viewBox=\"0 0 11 11\" class=\"marker cross flowchart-v2\" id=\"mermaid-2_flowchart-v2-crossStart\"><path style=\"stroke-width: 2; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" d=\"M 1,1 l 9,9 M 10,1 l -9,9\"></path></marker><g class=\"root\"><g class=\"clusters\"></g><g class=\"edgePaths\"><path marker-end=\"url(#mermaid-2_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_A_C_0\" d=\"M361.852,54.797L361.852,58.964C361.852,63.13,361.852,71.464,390.149,80.981C418.446,90.498,475.041,101.199,503.339,106.55L531.636,111.9\"></path><path marker-end=\"url(#mermaid-2_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_B_C_0\" d=\"M527.523,54.797L527.523,58.964C527.523,63.13,527.523,71.464,534.709,79.482C541.895,87.5,556.267,95.204,563.453,99.055L570.638,102.907\"></path><path marker-end=\"url(#mermaid-2_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_D_C_0\" d=\"M690.398,54.797L690.398,58.964C690.398,63.13,690.398,71.464,684.704,79.427C679.01,87.39,667.622,94.984,661.928,98.781L656.234,102.578\"></path><path marker-end=\"url(#mermaid-2_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_E_C_0\" d=\"M889.016,54.797L889.016,58.964C889.016,63.13,889.016,71.464,858.18,81.133C827.345,90.803,765.675,101.808,734.839,107.311L704.004,112.814\"></path><path marker-end=\"url(#mermaid-2_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_C_F_0\" d=\"M535.566,143.126L504.839,148.704C474.112,154.282,412.658,165.438,381.93,174.516C351.203,183.594,351.203,190.594,351.203,194.094L351.203,197.594\"></path><path marker-end=\"url(#mermaid-2_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_C_G_0\" d=\"M700.066,142.744L731.96,148.386C763.854,154.027,827.642,165.311,859.536,174.452C891.43,183.594,891.43,190.594,891.43,194.094L891.43,197.594\"></path><path marker-end=\"url(#mermaid-2_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_F_H_0\" d=\"M277.664,238.015L244.368,243.911C211.073,249.807,144.482,261.599,111.186,270.995C77.891,280.391,77.891,287.391,77.891,290.891L77.891,294.391\"></path><path marker-end=\"url(#mermaid-2_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_F_I_0\" d=\"M308.225,248.391L300.571,252.557C292.918,256.724,277.611,265.057,269.958,272.724C262.305,280.391,262.305,287.391,262.305,290.891L262.305,294.391\"></path><path marker-end=\"url(#mermaid-2_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_F_J_0\" d=\"M394.181,248.391L401.835,252.557C409.488,256.724,424.795,265.057,432.448,272.724C440.102,280.391,440.102,287.391,440.102,290.891L440.102,294.391\"></path><path marker-end=\"url(#mermaid-2_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_G_K_0\" d=\"M817.273,238.407L785.042,244.237C752.81,250.068,688.346,261.729,656.115,271.06C623.883,280.391,623.883,287.391,623.883,290.891L623.883,294.391\"></path><path marker-end=\"url(#mermaid-2_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_G_L_0\" d=\"M851.836,248.391L844.785,252.557C837.734,256.724,823.633,265.057,816.582,272.724C809.531,280.391,809.531,287.391,809.531,290.891L809.531,294.391\"></path><path marker-end=\"url(#mermaid-2_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_G_M_0\" d=\"M938.389,248.391L946.751,252.557C955.113,256.724,971.838,265.057,980.2,272.724C988.563,280.391,988.563,287.391,988.563,290.891L988.563,294.391\"></path><path marker-end=\"url(#mermaid-2_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_F_N_0\" d=\"M424.742,229.808L535.661,237.072C646.579,244.336,868.417,258.863,985.795,269.954C1103.173,281.044,1116.091,288.698,1122.551,292.525L1129.01,296.352\"></path><path marker-end=\"url(#mermaid-2_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_G_N_0\" d=\"M965.586,237.346L1001.646,243.354C1037.706,249.361,1109.826,261.376,1145.159,270.897C1180.493,280.418,1179.041,287.446,1178.315,290.96L1177.589,294.473\"></path><path marker-end=\"url(#mermaid-2_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_N_O_0\" d=\"M1171.945,345.188L1171.945,349.354C1171.945,353.521,1171.945,361.854,1171.945,369.521C1171.945,377.188,1171.945,384.188,1171.945,387.688L1171.945,391.188\"></path></g><g class=\"edgeLabels\"><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g></g><g class=\"nodes\"><g transform=\"translate(361.8515625, 31.3984375)\" id=\"flowchart-A-0\" class=\"node default\"><rect height=\"46.796875\" width=\"131.53125\" y=\"-23.3984375\" x=\"-65.765625\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-35.765625, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"71.53125\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>babel.config.js</p></span></div></foreignObject></g></g><g transform=\"translate(617.81640625, 128.1953125)\" id=\"flowchart-C-1\" class=\"node default\"><rect height=\"46.796875\" width=\"164.5\" y=\"-23.3984375\" x=\"-82.25\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-52.25, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"104.5\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Configuration Loader</p></span></div></foreignObject></g></g><g transform=\"translate(527.5234375, 31.3984375)\" id=\"flowchart-B-2\" class=\"node default\"><rect height=\"46.796875\" width=\"99.8125\" y=\"-23.3984375\" x=\"-49.90625\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-19.90625, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"39.8125\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>.babelrc</p></span></div></foreignObject></g></g><g transform=\"translate(690.3984375, 31.3984375)\" id=\"flowchart-D-4\" class=\"node default\"><rect height=\"46.796875\" width=\"125.9375\" y=\"-23.3984375\" x=\"-62.96875\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-32.96875, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"65.9375\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>package.json</p></span></div></foreignObject></g></g><g transform=\"translate(889.015625, 31.3984375)\" id=\"flowchart-E-6\" class=\"node default\"><rect height=\"46.796875\" width=\"171.296875\" y=\"-23.3984375\" x=\"-85.6484375\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-55.6484375, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"111.296875\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Programmatic Options</p></span></div></foreignObject></g></g><g transform=\"translate(351.203125, 224.9921875)\" id=\"flowchart-F-9\" class=\"node default\"><rect height=\"46.796875\" width=\"147.078125\" y=\"-23.3984375\" x=\"-73.5390625\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-43.5390625, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"87.078125\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Plugin Resolution</p></span></div></foreignObject></g></g><g transform=\"translate(891.4296875, 224.9921875)\" id=\"flowchart-G-11\" class=\"node default\"><rect height=\"46.796875\" width=\"148.3125\" y=\"-23.3984375\" x=\"-74.15625\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-44.15625, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"88.3125\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Preset Resolution</p></span></div></foreignObject></g></g><g transform=\"translate(77.890625, 321.7890625)\" id=\"flowchart-H-13\" class=\"node default\"><rect height=\"46.796875\" width=\"139.78125\" y=\"-23.3984375\" x=\"-69.890625\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-39.890625, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"79.78125\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>@babel/plugin-*</p></span></div></foreignObject></g></g><g transform=\"translate(262.3046875, 321.7890625)\" id=\"flowchart-I-15\" class=\"node default\"><rect height=\"46.796875\" width=\"129.046875\" y=\"-23.3984375\" x=\"-64.5234375\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-34.5234375, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"69.046875\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>babel-plugin-*</p></span></div></foreignObject></g></g><g transform=\"translate(440.1015625, 321.7890625)\" id=\"flowchart-J-17\" class=\"node default\"><rect height=\"46.796875\" width=\"126.546875\" y=\"-23.3984375\" x=\"-63.2734375\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-33.2734375, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"66.546875\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Local Plugins</p></span></div></foreignObject></g></g><g transform=\"translate(623.8828125, 321.7890625)\" id=\"flowchart-K-19\" class=\"node default\"><rect height=\"46.796875\" width=\"141.015625\" y=\"-23.3984375\" x=\"-70.5078125\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-40.5078125, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"81.015625\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>@babel/preset-*</p></span></div></foreignObject></g></g><g transform=\"translate(809.53125, 321.7890625)\" id=\"flowchart-L-21\" class=\"node default\"><rect height=\"46.796875\" width=\"130.28125\" y=\"-23.3984375\" x=\"-65.140625\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-35.140625, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"70.28125\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>babel-preset-*</p></span></div></foreignObject></g></g><g transform=\"translate(988.5625, 321.7890625)\" id=\"flowchart-M-23\" class=\"node default\"><rect height=\"46.796875\" width=\"127.78125\" y=\"-23.3984375\" x=\"-63.890625\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-33.890625, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"67.78125\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Local Presets</p></span></div></foreignObject></g></g><g transform=\"translate(1171.9453125, 321.7890625)\" id=\"flowchart-N-25\" class=\"node default\"><rect height=\"46.796875\" width=\"138.984375\" y=\"-23.3984375\" x=\"-69.4921875\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-39.4921875, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"78.984375\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Final Plugin List</p></span></div></foreignObject></g></g><g transform=\"translate(1171.9453125, 418.5859375)\" id=\"flowchart-O-29\" class=\"node default\"><rect height=\"46.796875\" width=\"153.484375\" y=\"-23.3984375\" x=\"-76.7421875\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-46.7421875, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"93.484375\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Transform Pipeline</p></span></div></foreignObject></g></g></g></g></g></svg></p>\n<p>가령 ‘특정 브라우저 혹은 런타임만 지원하겠다.’ 라는 설정이 포함되어 있으면, <code class=\"language-text\">preset-env</code>에서 해당\n타겟에서 미지원인 문법을 확인해 필요한 플러그인 및 폴리필을 추가해준다. 그리고 이러한 지원 대상을\n명시하는 방법은 <a href=\"https://github.com/browserslist/browserslist\"><code class=\"language-text\">browserslist</code></a>의 질의어를 통해 가능하다.</p>\n<p><em><code class=\"language-text\">browserslist</code>에서 제공하는 <a href=\"https://browsersl.ist/\">playground</a>에서 질의 테스트를 통해 지원하는 브라우저 리스트를\n확인할 수 있습니다.</em></p>\n<deckgo-highlight-code language=\"json\" theme=\"nord\"  >\n          <code slot=\"code\">// packages.json\n{\n  &quot;browserslist&quot;: [&quot;last 2 versions&quot;, &quot;&gt; 0.25% and not dead&quot;, &quot;ios &gt;= 12&quot;]\n}</code>\n        </deckgo-highlight-code>\n<deckgo-highlight-code language=\"js\" theme=\"nord\"  >\n          <code slot=\"code\">// babel.config.js\npresets: [\n  [&quot;@babel/preset-env&quot;, {\n    targets: {\n      ios: &quot;12&quot;,\n      chrome: &quot;80&quot;\n    },\n    ...</code>\n        </deckgo-highlight-code>\n<h3 id=\"browserslist와-통합된-preset-env\" style=\"position:relative;\"><a href=\"#browserslist%EC%99%80-%ED%86%B5%ED%95%A9%EB%90%9C-preset-env\" aria-label=\"browserslist와 통합된 preset env permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>browserslist와 통합된 preset-env</h3>\n<p><code class=\"language-text\">browserslist</code>은 질의어를 통해 특정 브라우저 및 런타임 환경 정보를 얻는데까지 여러 채널을 의존하고 있다.</p>\n<p><svg aria-roledescription=\"flowchart-v2\" role=\"graphics-document document\" viewBox=\"0 0 606.66796875 773.96875\" style=\"max-width: 606.66796875px;\" class=\"flowchart\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" id=\"mermaid-3\"><style>#mermaid-3{font-family:arial,sans-serif;font-size:16px;fill:#ccc;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-3 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-3 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-3 .error-icon{fill:#a44141;}#mermaid-3 .error-text{fill:#ddd;stroke:#ddd;}#mermaid-3 .edge-thickness-normal{stroke-width:1px;}#mermaid-3 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-3 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-3 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-3 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-3 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-3 .marker{fill:lightgrey;stroke:lightgrey;}#mermaid-3 .marker.cross{stroke:lightgrey;}#mermaid-3 svg{font-family:arial,sans-serif;font-size:16px;}#mermaid-3 p{margin:0;}#mermaid-3 .label{font-family:arial,sans-serif;color:#ccc;}#mermaid-3 .cluster-label text{fill:#F9FFFE;}#mermaid-3 .cluster-label span{color:#F9FFFE;}#mermaid-3 .cluster-label span p{background-color:transparent;}#mermaid-3 .label text,#mermaid-3 span{fill:#ccc;color:#ccc;}#mermaid-3 .node rect,#mermaid-3 .node circle,#mermaid-3 .node ellipse,#mermaid-3 .node polygon,#mermaid-3 .node path{fill:#1f2020;stroke:#ccc;stroke-width:1px;}#mermaid-3 .rough-node .label text,#mermaid-3 .node .label text,#mermaid-3 .image-shape .label,#mermaid-3 .icon-shape .label{text-anchor:middle;}#mermaid-3 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-3 .rough-node .label,#mermaid-3 .node .label,#mermaid-3 .image-shape .label,#mermaid-3 .icon-shape .label{text-align:center;}#mermaid-3 .node.clickable{cursor:pointer;}#mermaid-3 .root .anchor path{fill:lightgrey!important;stroke-width:0;stroke:lightgrey;}#mermaid-3 .arrowheadPath{fill:lightgrey;}#mermaid-3 .edgePath .path{stroke:lightgrey;stroke-width:2.0px;}#mermaid-3 .flowchart-link{stroke:lightgrey;fill:none;}#mermaid-3 .edgeLabel{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#mermaid-3 .edgeLabel p{background-color:hsl(0, 0%, 34.4117647059%);}#mermaid-3 .edgeLabel rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#mermaid-3 .labelBkg{background-color:rgba(87.75, 87.75, 87.75, 0.5);}#mermaid-3 .cluster rect{fill:hsl(180, 1.5873015873%, 28.3529411765%);stroke:rgba(255, 255, 255, 0.25);stroke-width:1px;}#mermaid-3 .cluster text{fill:#F9FFFE;}#mermaid-3 .cluster span{color:#F9FFFE;}#mermaid-3 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:arial,sans-serif;font-size:12px;background:hsl(20, 1.5873015873%, 12.3529411765%);border:1px solid rgba(255, 255, 255, 0.25);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-3 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#ccc;}#mermaid-3 rect.text{fill:none;stroke-width:0;}#mermaid-3 .icon-shape,#mermaid-3 .image-shape{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#mermaid-3 .icon-shape p,#mermaid-3 .image-shape p{background-color:hsl(0, 0%, 34.4117647059%);padding:2px;}#mermaid-3 .icon-shape rect,#mermaid-3 .image-shape rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#mermaid-3 .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-3 .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-3 .label{line-height:normal;font-size:0.7em;}#mermaid-3 :root{--mermaid-font-family:arial,sans-serif;}</style><g><marker orient=\"auto\" markerHeight=\"8\" markerWidth=\"8\" markerUnits=\"userSpaceOnUse\" refY=\"5\" refX=\"5\" viewBox=\"0 0 10 10\" class=\"marker flowchart-v2\" id=\"mermaid-3_flowchart-v2-pointEnd\"><path style=\"stroke-width: 1; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" d=\"M 0 0 L 10 5 L 0 10 z\"></path></marker><marker orient=\"auto\" markerHeight=\"8\" markerWidth=\"8\" markerUnits=\"userSpaceOnUse\" refY=\"5\" refX=\"4.5\" viewBox=\"0 0 10 10\" class=\"marker flowchart-v2\" id=\"mermaid-3_flowchart-v2-pointStart\"><path style=\"stroke-width: 1; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" d=\"M 0 5 L 10 10 L 10 0 z\"></path></marker><marker orient=\"auto\" markerHeight=\"11\" markerWidth=\"11\" markerUnits=\"userSpaceOnUse\" refY=\"5\" refX=\"11\" viewBox=\"0 0 10 10\" class=\"marker flowchart-v2\" id=\"mermaid-3_flowchart-v2-circleEnd\"><circle style=\"stroke-width: 1; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" r=\"5\" cy=\"5\" cx=\"5\"></circle></marker><marker orient=\"auto\" markerHeight=\"11\" markerWidth=\"11\" markerUnits=\"userSpaceOnUse\" refY=\"5\" refX=\"-1\" viewBox=\"0 0 10 10\" class=\"marker flowchart-v2\" id=\"mermaid-3_flowchart-v2-circleStart\"><circle style=\"stroke-width: 1; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" r=\"5\" cy=\"5\" cx=\"5\"></circle></marker><marker orient=\"auto\" markerHeight=\"11\" markerWidth=\"11\" markerUnits=\"userSpaceOnUse\" refY=\"5.2\" refX=\"12\" viewBox=\"0 0 11 11\" class=\"marker cross flowchart-v2\" id=\"mermaid-3_flowchart-v2-crossEnd\"><path style=\"stroke-width: 2; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" d=\"M 1,1 l 9,9 M 10,1 l -9,9\"></path></marker><marker orient=\"auto\" markerHeight=\"11\" markerWidth=\"11\" markerUnits=\"userSpaceOnUse\" refY=\"5.2\" refX=\"-1\" viewBox=\"0 0 11 11\" class=\"marker cross flowchart-v2\" id=\"mermaid-3_flowchart-v2-crossStart\"><path style=\"stroke-width: 2; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" d=\"M 1,1 l 9,9 M 10,1 l -9,9\"></path></marker><g class=\"root\"><g class=\"clusters\"></g><g class=\"edgePaths\"><path marker-end=\"url(#mermaid-3_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_A_B_0\" d=\"M124.375,53.602L109.491,57.968C94.607,62.333,64.839,71.065,49.954,83.497C35.07,95.93,35.07,112.063,35.07,128.195C35.07,144.328,35.07,160.461,35.07,177.993C35.07,195.526,35.07,214.458,35.07,233.391C35.07,252.323,35.07,271.255,41.598,284.551C48.125,297.846,61.18,305.505,67.708,309.334L74.235,313.163\"></path><path marker-end=\"url(#mermaid-3_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_A_C_0\" d=\"M275.766,45.038L307.916,50.831C340.066,56.624,404.367,68.211,436.518,82.07C468.668,95.93,468.668,112.063,468.668,128.195C468.668,144.328,468.668,160.461,468.668,173.427C468.668,186.393,468.668,196.193,468.668,201.092L468.668,205.992\"></path><path marker-end=\"url(#mermaid-3_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_A_CE_0\" d=\"M200.07,54.797L200.07,58.964C200.07,63.13,200.07,71.464,200.07,79.13C200.07,86.797,200.07,93.797,200.07,97.297L200.07,100.797\"></path><path marker-end=\"url(#mermaid-3_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_B_D_0\" d=\"M117.57,361.984L117.57,366.151C117.57,370.318,117.57,378.651,117.57,387.717C117.57,396.784,117.57,406.583,117.57,411.483L117.57,416.383\"></path><path marker-end=\"url(#mermaid-3_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_C_E_0\" d=\"M468.668,256.789L468.668,262.355C468.668,267.922,468.668,279.055,468.668,288.121C468.668,297.188,468.668,304.188,468.668,307.688L468.668,311.188\"></path><path marker-end=\"url(#mermaid-3_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_E_F_0\" d=\"M468.668,361.984L468.668,366.151C468.668,370.318,468.668,378.651,468.668,386.318C468.668,393.984,468.668,400.984,468.668,404.484L468.668,407.984\"></path><path marker-end=\"url(#mermaid-3_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_CE_X_0\" d=\"M200.07,151.594L200.07,155.76C200.07,159.927,200.07,168.26,200.07,175.927C200.07,183.594,200.07,190.594,200.07,194.094L200.07,197.594\"></path><path marker-end=\"url(#mermaid-3_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_X_B_0\" d=\"M200.07,265.188L200.07,269.354C200.07,273.521,200.07,281.854,193.543,289.85C187.015,297.846,173.96,305.505,167.433,309.334L160.905,313.163\"></path><path marker-end=\"url(#mermaid-3_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_D_G_0\" d=\"M109.331,467.18L107.371,472.746C105.411,478.313,101.491,489.445,100.256,498.526C99.022,507.606,100.474,514.633,101.2,518.147L101.926,521.661\"></path><path marker-end=\"url(#mermaid-3_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_F_G_0\" d=\"M382.014,475.578L370.659,479.745C359.303,483.911,336.593,492.245,304.559,501.263C272.525,510.28,231.166,519.982,210.487,524.833L189.808,529.685\"></path><path marker-end=\"url(#mermaid-3_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_D_H_0\" d=\"M206.684,467.18L227.884,472.746C249.084,478.313,291.483,489.445,324.515,498.967C357.548,508.489,381.212,516.399,393.045,520.355L404.877,524.31\"></path><path marker-end=\"url(#mermaid-3_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_F_H_0\" d=\"M479.865,475.578L481.332,479.745C482.799,483.911,485.734,492.245,486.475,499.925C487.216,507.606,485.764,514.633,485.038,518.147L484.312,521.661\"></path><path marker-end=\"url(#mermaid-3_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_H_I_0\" d=\"M478.668,572.375L478.668,576.542C478.668,580.708,478.668,589.042,478.668,596.708C478.668,604.375,478.668,611.375,478.668,614.875L478.668,618.375\"></path><path marker-end=\"url(#mermaid-3_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_G_Z_0\" d=\"M107.57,572.375L107.57,576.542C107.57,580.708,107.57,589.042,107.57,601.275C107.57,613.508,107.57,629.641,107.57,645.773C107.57,661.906,107.57,678.039,120.816,690.247C134.062,702.455,160.554,710.739,173.8,714.881L187.046,719.022\"></path><path marker-end=\"url(#mermaid-3_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_I_Z_0\" d=\"M478.668,669.172L478.668,673.339C478.668,677.505,478.668,685.839,455.182,695.26C431.696,704.682,384.723,715.191,361.237,720.446L337.751,725.701\"></path></g><g class=\"edgeLabels\"><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g></g><g class=\"nodes\"><g transform=\"translate(200.0703125, 31.3984375)\" id=\"flowchart-A-0\" class=\"node default\"><rect height=\"46.796875\" width=\"151.390625\" y=\"-23.3984375\" x=\"-75.6953125\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-45.6953125, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"91.390625\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Browserslist query</p></span></div></foreignObject></g></g><g transform=\"translate(117.5703125, 338.5859375)\" id=\"flowchart-B-1\" class=\"node default\"><rect height=\"46.796875\" width=\"138.34375\" y=\"-23.3984375\" x=\"-69.171875\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-39.171875, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"78.34375\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Browser targets</p></span></div></foreignObject></g></g><g transform=\"translate(468.66796875, 233.390625)\" id=\"flowchart-C-3\" class=\"node default\"><rect height=\"46.796875\" width=\"135.25\" y=\"-23.3984375\" x=\"-67.625\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-37.625, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"75.25\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Node.js targets</p></span></div></foreignObject></g></g><g transform=\"translate(200.0703125, 128.1953125)\" id=\"flowchart-CE-5\" class=\"node default\"><rect height=\"46.796875\" width=\"138.359375\" y=\"-23.3984375\" x=\"-69.1796875\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-39.1796875, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"78.359375\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Electron targets</p></span></div></foreignObject></g></g><g transform=\"translate(117.5703125, 443.78125)\" id=\"flowchart-D-7\" class=\"node default\"><rect height=\"46.796875\" width=\"219.140625\" y=\"-23.3984375\" x=\"-109.5703125\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-79.5703125, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"159.140625\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>caniuse-lite (브라우저 기능 지원 DB)</p></span></div></foreignObject></g></g><g transform=\"translate(468.66796875, 338.5859375)\" id=\"flowchart-E-9\" class=\"node default\"><rect height=\"46.796875\" width=\"222.921875\" y=\"-23.3984375\" x=\"-111.4609375\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-81.4609375, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"162.921875\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>node-releases (Node.js - V8 매핑)</p></span></div></foreignObject></g></g><g transform=\"translate(468.66796875, 443.78125)\" id=\"flowchart-F-11\" class=\"node default\"><rect height=\"63.59375\" width=\"260\" y=\"-31.796875\" x=\"-130\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-100, -16.796875)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"33.59375\" width=\"200\"><div style=\"display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>@babel/compat-data (엔진별 ECMAScript 지원 여부)</p></span></div></foreignObject></g></g><g transform=\"translate(200.0703125, 233.390625)\" id=\"flowchart-X-13\" class=\"node default\"><rect height=\"63.59375\" width=\"260\" y=\"-31.796875\" x=\"-130\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-100, -16.796875)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"33.59375\" width=\"200\"><div style=\"display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>electron-to-chromium (Electron -> Chromium 매핑)</p></span></div></foreignObject></g></g><g transform=\"translate(107.5703125, 548.9765625)\" id=\"flowchart-G-17\" class=\"node default\"><rect height=\"46.796875\" width=\"156.6875\" y=\"-23.3984375\" x=\"-78.34375\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-48.34375, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"96.6875\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>필요한 Babel 변환 선택</p></span></div></foreignObject></g></g><g transform=\"translate(478.66796875, 548.9765625)\" id=\"flowchart-H-21\" class=\"node default\"><rect height=\"46.796875\" width=\"217.890625\" y=\"-23.3984375\" x=\"-108.9453125\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-78.9453125, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"157.890625\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>core-js-compat (폴리필 필요성 매핑)</p></span></div></foreignObject></g></g><g transform=\"translate(478.66796875, 645.7734375)\" id=\"flowchart-I-25\" class=\"node default\"><rect height=\"46.796875\" width=\"133.34375\" y=\"-23.3984375\" x=\"-66.671875\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-36.671875, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"73.34375\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>필요한 폴리필 선택</p></span></div></foreignObject></g></g><g transform=\"translate(262.35546875, 742.5703125)\" id=\"flowchart-Z-27\" class=\"node default\"><rect height=\"46.796875\" width=\"142.984375\" y=\"-23.3984375\" x=\"-71.4921875\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-41.4921875, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"82.984375\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>선택된 변환 + 폴리필</p></span></div></foreignObject></g></g></g></g></g></svg></p>\n<p>물론 브라우저뿐만 아니라 <a href=\"https://nodejs.org/ko/\"><code class=\"language-text\">node.js</code></a>, <a href=\"https://www.electronjs.org/\"><code class=\"language-text\">electron</code></a>과 같은 런타임 환경도 함께 고려된다. 자바스크립트로 구성된 프로젝트가 브라우저 외 서버사이드, <code class=\"language-text\">electron</code> 환경에서 동작할 수 있기 때문에 해당 매핑 정보 또한 함께\n수집되어야 한다.</p>\n<deckgo-highlight-code language=\"json\" theme=\"nord\"  >\n          <code slot=\"code\">{\n  &quot;browserslist&quot;: [&quot;last 2 versions&quot;, &quot;node 18&quot;, &quot;electron 25&quot;]\n}</code>\n        </deckgo-highlight-code>\n<deckgo-highlight-code language=\"shell\" theme=\"nord\"  >\n          <code slot=\"code\">~$ npx browserslist\n\nand_chr 135\nand_ff 137\nchrome 124\nedge 124\nfirefox 126\nsafari 17.4\nnode 18.19.0\nelectron 25.3.1\n...</code>\n        </deckgo-highlight-code>\n<p>(다소 다른 길로 새는 감이 없지 않지만) 간단하게 각각의 패키지 역할을 흐름에 따라 알아보자.\n앞서 <code class=\"language-text\">browserslist</code>를 통해 지원해야 하는 브라우저와 런타임 환경을 나열했다면, 이제 각 환경이 어떤 기능을 지원하는지 파악해야 한다.</p>\n<p><a href=\"https://caniuse.com/\"><code class=\"language-text\">caniuse.com</code></a>의 데이터를 경량화한 버전으로 빌드 도구들이 빠르게 참조할 수\n있도록 최적화되어 있는 <a href=\"https://github.com/browserslist/caniuse-lite\"><code class=\"language-text\">caniuse-lite</code></a>는 각 브라우저의 버전별로 어떤 웹 표준 기능을 지원하는지에 대한 데이터베이스를 제공한다.\n예를 들어 <code class=\"language-text\">Chrome 80</code>에서는 옵셔널 체이닝을 지원하지만, <code class=\"language-text\">Internet Explorer 11</code>에서는 지원하지 않는다는 정보를 담고 있다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACNElEQVR42pWT2W7bQAxF9RNeZe37vo0kW5KXxEvTtHCQOM7SvBVo//8PbqlxWiBAX/JwMJfUDIdDUkJVeNgsCyyqiMNSl1NmHorUQVX4iAMdujKCoY45vbYNEWlkkT1BkdgoCwuhr0Bo6pgOunTIgO8oMLUJx9InfLOpTd/1+AP9HteakR5BlYbQaTW0MYSOSbjdaCgTGZ6tIHJVhK4Cx5yhShTEngRVHkGXhzwzjnxZtXff36x7W3CsKXx3BtsSYRjTd0TohGWKcM0JvyAJDdojETM4jgybLvRsGQF9Y5mLyNMQ0AuFNnKwzyJcxx62CenUxk1m4ktk4DowYVHWYdDXNMYhd/G9zHHftEgpUO7rYKGFtk4wL32qowNhd/Bx/sFwfmM4vWQ4PWd4OCe4f45xOqd4yk3UAZWDSvL4UuDprcTdY0YZSlgmGo4LG56jYkX7ji0FbO58bH9myPcmVq8Rdr8K7H/nmN97YFc6jpGCVUOZ3Fjc35zIv7PRzBmadYj24JAu0G4iroUwpkakKtTpAEEoI2UaEsK1JRjSGBIVWpkNoRFhJsHUx1AmA+rsgPwDyOKQa1m8aKGmkelYiDnzMM8DLPIIOdWlpFrWVDOPGuPx5lDjlClcalY/Lr19QfyghTqzsawjdBUFK1OiQpXHFFRHQY1hsfmPMjE/2P9D+LbvcLtrsKW/Zb9mOGxK3Gzn/JJLEOtTCA/HA77uOqwWGZFi3ea46hg916ch7wdb/RR/ALSQbBWU19QiAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"caniuse 옵셔널 체이닝 검색 결과\"\n        title=\"\"\n        src=\"/static/97ed54fadaeb9477e46145d84d5fd970/c1b63/caniuse-example.png\"\n        srcset=\"/static/97ed54fadaeb9477e46145d84d5fd970/5a46d/caniuse-example.png 300w,\n/static/97ed54fadaeb9477e46145d84d5fd970/0a47e/caniuse-example.png 600w,\n/static/97ed54fadaeb9477e46145d84d5fd970/c1b63/caniuse-example.png 1200w,\n/static/97ed54fadaeb9477e46145d84d5fd970/d61c2/caniuse-example.png 1800w,\n/static/97ed54fadaeb9477e46145d84d5fd970/55681/caniuse-example.png 2062w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><a href=\"https://caniuse.com/?search=optional%20chaining\">이미지 출처</a></p>\n<p><code class=\"language-text\">node.js</code>에서 지원하는 문법 및 내장 정보를 확인하기 위해 특정 버전에서 사용되고 있는 V8 엔진의 버전 정보를 알아야 한다. <a href=\"https://github.com/chicoxyzzy/node-releases\"><code class=\"language-text\">node-releases</code></a>는 <code class=\"language-text\">node.js</code>의 각 버전이 어떤 V8 엔진을 사용했는지에 대한 매핑 정보를 경량화하여 관리하고 있다.</p>\n<deckgo-highlight-code language=\"json\" theme=\"nord\"  >\n          <code slot=\"code\">[\n  ...,\n  {\n    &quot;name&quot;: &quot;nodejs&quot;,\n    &quot;version&quot;: &quot;24.6.0&quot;,\n    &quot;date&quot;: &quot;2025-08-14&quot;,\n    &quot;lts&quot;: false,\n    &quot;security&quot;: false,\n    &quot;v8&quot;: &quot;13.6.233.10&quot;\n  }\n]</code>\n        </deckgo-highlight-code>\n<p><code class=\"language-text\">electron</code> 또한 지원하기 위해 <a href=\"https://github.com/kilian/electron-to-chromium\"><code class=\"language-text\">electron-to-chromium</code></a>는 <code class=\"language-text\">electron</code> 버전에 해당하는 <code class=\"language-text\">Chromium</code> 버전 간의 매핑을 제공한다.</p>\n<p>이렇게 취득된 브라우저 및 런타임 환경 정보를 토대로, 브라우저 및 런타임 환경별로 <code class=\"language-text\">ECMAScript</code> 기능 지원 버전을 담아 관리하고 있는 <code class=\"language-text\">@babel/compat-data</code>를 통해\n각각의 해당 환경에서의 기능 지원 여부를 판단한다.</p>\n<deckgo-highlight-code language=\"js\" theme=\"nord\"  >\n          <code slot=\"code\">const plugins = require(&#39;@babel/compat-data/plugins&#39;);\nconsole.log(plugins[&#39;transform-async-to-generator&#39;]);\n\n// {\n//   chrome: &#39;55&#39;,\n//   opera: &#39;42&#39;,\n//   edge: &#39;15&#39;,\n//   firefox: &#39;52&#39;,\n//   safari: &#39;11&#39;,\n//   node: &#39;7.6&#39;,\n//   deno: &#39;1&#39;,\n//   ios: &#39;11&#39;,\n//   samsung: &#39;6&#39;,\n//   opera_mobile: &#39;42&#39;,\n//   electron: &#39;1.6&#39;\n// }</code>\n        </deckgo-highlight-code>\n<p>취득된 정보들을 토대로 <code class=\"language-text\">preset-env</code>는 타겟 환경에서 지원하지 않은 문법을 변환하기 위한 적절한 <code class=\"language-text\">@babel/plugin-transform-*</code> 플러그인을 선택한다.\n예를 들어 옵셔널 체이닝을 지원하지 않는 환경이라면 <code class=\"language-text\">@babel/plugin-transform-optional-chaining</code>을 포함시킨다.</p>\n<p>더불어 <a href=\"https://github.com/zloirock/core-js\"><code class=\"language-text\">core-js-compat</code></a>를 통해 타겟 환경에 누락되어 있는 내장 객체나 메서드에 대한 폴리필 주입을 결정한다. 가령 <code class=\"language-text\">Promise</code>, <code class=\"language-text\">Array.prototype.includes</code>\n와 같은 기능이 없는 환경에서는 해당 폴리필을 주입해 런타임에 문제없이 기능이 동작할 수 있도록 한다.</p>\n<p>위 과정이 <code class=\"language-text\">preset-env</code>를 통해 가능한 이유는 <code class=\"language-text\">browserslist</code>와 통합되어 있기 때문이다.\n이는 <code class=\"language-text\">@babel/helper-compilation-targets</code>에서 확인할 수 있는데, <code class=\"language-text\">getTargets()</code> 메서드를 통해\n<code class=\"language-text\">browserslist()</code>를 직접 호출하여 쿼리에서 대상 브라우저를 해석하는 과정을 포함하고 있다.</p>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">// packages/babel-helper-compilation-targets/src/index.ts\nexport default function getTargets(\n  inputTargets: InputTargets = {},\n  options: GetTargetsOption = {}\n): Targets {\n  ...\n  if (!browsers &amp;&amp; shouldSearchForConfig) {\n    if (configFile != null) {\n      ...\n    }\n\n    if (browsers == null) {\n      if (process.env.BABEL_8_BREAKING) {\n        browsers = [&#39;defaults&#39;];\n      } else {\n        browsers = [];\n      }\n    }\n  }\n  ...\n  if (esmodules &amp;&amp; (esmodules !== &#39;intersect&#39; || !browsers?.length)) {\n    ...\n  }\n  ...\n  outputDecimalWarning(decimalWarnings);\n  return result;\n}</code>\n        </deckgo-highlight-code>\n<h3 id=\"preset-env의-플러그인-선별-과정\" style=\"position:relative;\"><a href=\"#preset-env%EC%9D%98-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EC%84%A0%EB%B3%84-%EA%B3%BC%EC%A0%95\" aria-label=\"preset env의 플러그인 선별 과정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>preset-env의 플러그인 선별 과정</h3>\n<p><code class=\"language-text\">preset-env</code>는 내부적으로 <code class=\"language-text\">@babel/helper-compilation-targets</code>의 <code class=\"language-text\">getTargets()</code>를 사용하는 <code class=\"language-text\">getLocalTargets()</code> 메서드를 통해\n프로젝트 환경에 설정된 <code class=\"language-text\">browserslist</code> 구성을 기반으로 한 결과를 얻어낸다.</p>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">// packages/babel-preset-env/src/index.ts\nfunction getLocalTargets(\n  optionsTargets: Options[&#39;targets&#39;],\n  ignoreBrowserslistConfig: boolean,\n  configPath: string,\n  browserslistEnv: string,\n  api: PresetAPI\n) {\n  if (optionsTargets?.esmodules &amp;&amp; optionsTargets.browsers) {\n    // warning log\n  }\n\n  return getTargets(optionsTargets as InputTargets, {\n    ignoreBrowserslistConfig,\n    configPath,\n    browserslistEnv,\n    onBrowserslistConfigFound(config) {\n      api.addExternalDependency(config);\n    },\n  });\n}</code>\n        </deckgo-highlight-code>\n<p>리스트업된 대상에 따른 플러그인 선택 과정은 <code class=\"language-text\">filterItems()</code>가 담당한다. 이는 <code class=\"language-text\">compatData</code>를 기반으로\n대상 환경을 플러그인 호환성 데이터와 비교하여 각 브라우저의 가장 낮은 구현 버전을 대상 버전과 비교하여\n플러그인이 필요한지 여부를 결정하는 역할을 한 후 대상 브라우저와 함께 플러그인 이름 집합을 생성한다.</p>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">// packages/babel-helper-compilation-targets/src/filter-items.ts\nexport default function filterItems(\n  list: { [feature: string]: Targets },\n  includes: Set&lt;string&gt;,\n  excludes: Set&lt;string&gt;,\n  targets: Targets,\n  defaultIncludes: Array&lt;string&gt; | null,\n  defaultExcludes?: Array&lt;string&gt; | null,\n  pluginSyntaxMap?: Map&lt;string, string | null&gt;\n) {\n  const result = new Set&lt;string&gt;();\n  const options = { compatData: list, includes, excludes };\n\n  for (const item in list) {\n    if (isRequired(item, targets, options)) {\n      result.add(item);\n    } else if (pluginSyntaxMap) {\n      const shippedProposalsSyntax = pluginSyntaxMap.get(item);\n\n      if (shippedProposalsSyntax) {\n        result.add(shippedProposalsSyntax);\n      }\n    }\n  }\n\n  defaultIncludes?.forEach(item =&gt; !excludes.has(item) &amp;&amp; result.add(item));\n  defaultExcludes?.forEach(item =&gt; !includes.has(item) &amp;&amp; result.delete(item));\n\n  return result;\n}</code>\n        </deckgo-highlight-code>\n<p>이렇게 필요한 플러그인이 선별되면, 이를 <code class=\"language-text\">availablePlugins</code>에서 해당 플러그인을 찾아 실제 플러그인\n인스턴스를 생성하여 사용한다.</p>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">// packages/babel-preset-env/src/available-plugins.ts\nimport syntaxImportAssertions from &quot;@babel/plugin-syntax-import-assertions&quot; with { if: &quot;!process.env.BABEL_8_BREAKING&quot; };\nimport syntaxImportAttributes from &quot;@babel/plugin-syntax-import-attributes&quot; with { if: &quot;!process.env.BABEL_8_BREAKING&quot; };\n\nimport transformAsyncGeneratorFunctions from &quot;@babel/plugin-transform-async-generator-functions&quot;;\nimport transformAsyncToGenerator from &quot;@babel/plugin-transform-async-to-generator&quot;;\nimport transformArrowFunctions from &quot;@babel/plugin-transform-arrow-functions&quot;;\nimport transformBlockScopedFunctions from &quot;@babel/plugin-transform-block-scoped-functions&quot;;\nimport transformBlockScoping from &quot;@babel/plugin-transform-block-scoping&quot;;\nimport transformClasses from &quot;@babel/plugin-transform-classes&quot;;\nimport transformClassProperties from &quot;@babel/plugin-transform-class-properties&quot;;\nimport transformClassStaticBlock from &quot;@babel/plugin-transform-class-static-block&quot;;\nimport transformComputedProperties from &quot;@babel/plugin-transform-computed-properties&quot;;\nimport transformDestructuring from &quot;@babel/plugin-transform-destructuring&quot;;\n...</code>\n        </deckgo-highlight-code>\n<h3 id=\"플러그인-방문자를-통한-ast-노드-변환\" style=\"position:relative;\"><a href=\"#%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EB%B0%A9%EB%AC%B8%EC%9E%90%EB%A5%BC-%ED%86%B5%ED%95%9C-ast-%EB%85%B8%EB%93%9C-%EB%B3%80%ED%99%98\" aria-label=\"플러그인 방문자를 통한 ast 노드 변환 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>플러그인 방문자를 통한 AST 노드 변환</h3>\n<p>구문 분석을 통해 생성된 <code class=\"language-text\">AST</code>는 변환 단계에서 <code class=\"language-text\">@babel/traverse</code>를 통해 재귀 순회되며 각각의 노드를 방문해\n적절한 방문자(<code class=\"language-text\">visitor</code>)를 호출하여 해당 노드를 추가, 업데이트 혹은 제거하는 과정을 통해 적합한 코드로 변환한다.</p>\n<p>여기서 방문자란 <code class=\"language-text\">AST</code> 순회 과정에서 특정 타입의 노드를 만나게 되면 실행해야 하는 함수를 매핑해주는 역할로서,\n각각의 플러그인들이 특정 타입의 노드를 방문할때 어떤 조작이 필요한지에 대한 변환 정의를 담은 메서드를 반환하는데,\n메서드 이름은 <code class=\"language-text\">AST</code> 노드 타입의 이름을 따서 명명한다.</p>\n<p>아래는 특정 플러그인들의 변환 정의를 담은 방문자들의 예시이다. 가령 <code class=\"language-text\">arrow function</code>, <code class=\"language-text\">optional chaining</code>과 같은\n문법을 처리하는 방문자는 다음과 같다.</p>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">// packages/babel-plugin-transform-arrow-functions/src/index.ts\nimport { declare } from &#39;@babel/helper-plugin-utils&#39;;\n\nexport interface Options {\n  spec?: boolean;\n}\n\nexport default declare((api, options: Options) =&gt; {\n  api.assertVersion(REQUIRED_VERSION(7));\n\n  const noNewArrows = api.assumption(&#39;noNewArrows&#39;) ?? !options.spec;\n\n  return {\n    name: &#39;transform-arrow-functions&#39;,\n    visitor: {\n      ArrowFunctionExpression(path) {\n        if (!path.isArrowFunctionExpression()) return;\n\n        if (process.env.BABEL_8_BREAKING) {\n          path.arrowFunctionToExpression({\n            allowInsertArrow: false,\n            noNewArrows,\n          });\n        } else {\n          path.arrowFunctionToExpression({\n            allowInsertArrow: false,\n            noNewArrows,\n            specCompliant: !noNewArrows,\n          });\n        }\n      },\n    },\n  };\n});</code>\n        </deckgo-highlight-code>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">// packages/babel-plugin-transform-optional-chaining/src/index.ts\nimport { declare } from &quot;@babel/helper-plugin-utils&quot;;\nimport { transform, transformOptionalChain } from &quot;./transform.ts&quot;;\nimport type { NodePath, types as t } from &quot;@babel/core&quot;;\n\nexport interface Options {\n  loose?: boolean;\n}\nexport default declare((api, options: Options) =&gt; {\n  api.assertVersion(REQUIRED_VERSION(7));\n\n  const { loose = false } = options;\n  const noDocumentAll = api.assumption(&quot;noDocumentAll&quot;) ?? loose;\n  const pureGetters = api.assumption(&quot;pureGetters&quot;) ?? loose;\n\n  return {\n    name: &quot;transform-optional-chaining&quot;,\n    manipulateOptions: process.env.BABEL_8_BREAKING\n      ? undefined\n      : (_, parser) =&gt; parser.plugins.push(&quot;optionalChaining&quot;),\n\n    visitor: {\n      &quot;OptionalCallExpression|OptionalMemberExpression&quot;(\n        path: NodePath&lt;t.OptionalCallExpression | t.OptionalMemberExpression&gt;,\n      ) {\n        transform(path, { noDocumentAll, pureGetters });\n      },\n    },\n  };\n});\n\nexport { transform, transformOptionalChain };</code>\n        </deckgo-highlight-code>\n<p>특정 타입별 노드를 변환하기 위한 플러그인의 방문자들은 순회를 시작하기 전 하나의 방문자로 병합되며,\n이후 방문한 노드의 타입에 따라 해당 타입에 담긴 방문자의 메서드가 실행되어 <code class=\"language-text\">AST</code>를 수정, 교체, 제거한다.</p>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">// packages/babel-traverse/src/visitors.ts\nexport function merge(\n  visitors: any[],\n  states: any[] = [],\n  wrapper?: VisitWrapper | null,\n): ExplodedVisitor {\n  const mergedVisitor: ExplodedVisitor = { _verified: true, _exploded: true };\n  ...\n\n  for (let i = 0; i &lt; visitors.length; i++) {\n    ...\n    let topVisitor: ExplVisitNode&lt;unknown, Node&gt; = visitor;\n    ...\n    mergePair(mergedVisitor, topVisitor);\n\n    for (const key of Object.keys(visitor) as (keyof ExplodedVisitor)[]) {\n      if (shouldIgnoreKey(key)) continue;\n\n      let typeVisitor = visitor[key];\n      ...\n      const nodeVisitor = (mergedVisitor[key] ||= {});\n      mergePair(nodeVisitor, typeVisitor);\n    }\n  }\n\n  return mergedVisitor;\n}</code>\n        </deckgo-highlight-code>\n<h3 id=\"ast-노드-변환-방식\" style=\"position:relative;\"><a href=\"#ast-%EB%85%B8%EB%93%9C-%EB%B3%80%ED%99%98-%EB%B0%A9%EC%8B%9D\" aria-label=\"ast 노드 변환 방식 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AST 노드 변환 방식</h3>\n<p>가장 간단하게 노드를 변환하는 방식은 전체 노드를 교체하지 않고 기존 노드의 속성을 수정하는 방식이다.\n해당 방식은 <code class=\"language-text\">AST</code>의 노드의 위치를 유지하면서 노드의 단순 프로퍼티만을 변경한다.</p>\n<p>가령 객체의 프로퍼티 키를 식별자(<code class=\"language-text\">Identifier</code>) 또는 문자열 리터럴(<code class=\"language-text\">StringLiteral</code>)로 변환해주는\n<code class=\"language-text\">transform-property-literals</code>의 경우 <code class=\"language-text\">ObjectProperty</code>를 만나면 노드의 내부 프로퍼티만을 변경하여\n반환한다.</p>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">// packages/babel-plugin-transform-property-literals/src/index.ts\nimport { declare } from &#39;@babel/helper-plugin-utils&#39;;\nimport { types as t } from &#39;@babel/core&#39;;\n\nexport default declare(api =&gt; {\n  api.assertVersion(REQUIRED_VERSION(7));\n\n  return {\n    name: &#39;transform-property-literals&#39;,\n\n    visitor: {\n      ObjectProperty: {\n        exit({ node }) {\n          const key = node.key;\n          if (\n            !node.computed &amp;&amp;\n            t.isIdentifier(key) &amp;&amp;\n            !t.isValidES3Identifier(key.name)\n          ) {\n            // default: &quot;bar&quot; -&gt; &quot;default&quot;: &quot;bar&quot;\n            node.key = t.stringLiteral(key.name);\n          }\n        },\n      },\n    },\n  };\n});</code>\n        </deckgo-highlight-code>\n<p>두번째는 <code class=\"language-text\">path.replaceWith()</code>를 통해 노드를 교체하는 방식이다. 가령 정규식의 <code class=\"language-text\">y</code> 플래그를 지원하지 않은\n환경을 위해 <code class=\"language-text\">g</code> 플래그 정규식와 추가 로직을 통해 변환하는 플러그인인 <code class=\"language-text\">transform-sticky-regex</code>은\n다음과 같이 노드를 교체한다.</p>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">// packages/babel-plugin-transform-sticky-regex/src/index.ts\nimport { declare } from &#39;@babel/helper-plugin-utils&#39;;\nimport { types as t } from &#39;@babel/core&#39;;\n\nexport default declare(api =&gt; {\n  api.assertVersion(REQUIRED_VERSION(7));\n\n  return {\n    name: &#39;transform-sticky-regex&#39;,\n\n    visitor: {\n      RegExpLiteral(path) {\n        const { node } = path;\n        if (!node.flags.includes(&#39;y&#39;)) return;\n\n        path.replaceWith(\n          t.newExpression(t.identifier(&#39;RegExp&#39;), [\n            t.stringLiteral(node.pattern),\n            t.stringLiteral(node.flags),\n          ])\n        );\n      },\n    },\n  };\n});</code>\n        </deckgo-highlight-code>\n<p>마지막으로 단일 노드를 여러 노드로 변환하는 다중 노드 교체 방식이다. 이는 <code class=\"language-text\">path.replaceWithMultiple()</code>를 통해\n여러 노드를 삽입하고 순회 상태를 업데이트하는 복잡성을 처리한다.</p>\n<p><code class=\"language-text\">async-generator-functions</code> 플러그인은 비동기 제너레이터 함수를 구형 런타임에서도 동작할 수 있도록 AST를 변환하는 플러그인이다.\n해당 과정은 <code class=\"language-text\">async function*</code>을 일반 제너레이터(<code class=\"language-text\">function*</code>)로 바꾸고 제너레이터를 여러 헬퍼 함수를 통해 <code class=\"language-text\">AsyncIterator</code> 프로토콜을 흉내내도록 하며, <code class=\"language-text\">await/yield*</code> 같은 문법을 헬퍼 호출로 치환해 동작이 보존된 노드들을 새롭게 반환한다.</p>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">import { declare } from &quot;@babel/helper-plugin-utils&quot;;\nimport remapAsyncToGenerator from &quot;@babel/helper-remap-async-to-generator&quot;;\nimport type { NodePath, Visitor, PluginPass } from &quot;@babel/core&quot;;\nimport { types as t } from &quot;@babel/core&quot;;\nimport { visitors } from &quot;@babel/traverse&quot;;\nimport rewriteForAwait from &quot;./for-await.ts&quot;;\n\nexport default declare(api =&gt; {\n  api.assertVersion(REQUIRED_VERSION(7));\n\n  const yieldStarVisitor = visitors.environmentVisitor&lt;PluginPass&gt;({\n    ArrowFunctionExpression(path) {\n      path.skip();\n    },\n\n    YieldExpression({ node }, state) {\n      ...\n    },\n  });\n\n  const forAwaitVisitor = visitors.environmentVisitor&lt;PluginPass&gt;({\n    ArrowFunctionExpression(path) {\n      path.skip();\n    },\n\n    ForOfStatement(path: NodePath&lt;t.ForOfStatement&gt;, { file }) {\n      ...\n    },\n  });\n\n  const visitor: Visitor&lt;PluginPass&gt; = {\n    Function(path, state) {\n      ...\n      remapAsyncToGenerator(path, {\n        wrapAsync: state.addHelper(&quot;wrapAsyncGenerator&quot;),\n        wrapAwait: state.addHelper(&quot;awaitAsyncGenerator&quot;),\n      });\n    },\n  };\n\n  return {\n    name: &quot;transform-async-generator-functions&quot;,\n\n    manipulateOptions: process.env.BABEL_8_BREAKING\n      ? undefined\n      : (_, parser) =&gt; parser.plugins.push(&quot;asyncGenerators&quot;),\n\n    visitor: {\n      Program(path, state) {\n        path.traverse(visitor, state);\n      },\n    },\n  };\n});</code>\n        </deckgo-highlight-code>\n<p>방문자 패턴을 통해 <code class=\"language-text\">AST</code>의 특정 타입의 노드를 대상으로 하는 플러그인을 통해 복잡한 노드 변환을 독립적으로 관리할 수 있도록 하며\n<code class=\"language-text\">path</code> 객체를 통해 노드 조작을 위한 기본 인터페이스를 모두 제공하여 일관된 수정 방법을 제공할 수 있게 된다.</p>\n<h2 id=\"생성\" style=\"position:relative;\"><a href=\"#%EC%83%9D%EC%84%B1\" aria-label=\"생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>생성</h2>\n<p>생성 단계는 <code class=\"language-text\">@babel/generator</code>가 담당한다. 플러그인에 의해 변환된 <code class=\"language-text\">AST</code>를 다시 자바스크립트 코드로 변환하는 역할이다.\n이 과정은 깊이 우선 탐색을 통해 소스맵을 생성하거나, 포매팅 과정도 포함된다.</p>\n<p><svg aria-roledescription=\"flowchart-v2\" role=\"graphics-document document\" viewBox=\"0 0 585.6875 643.578125\" style=\"max-width: 585.6875px;\" class=\"flowchart\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" id=\"mermaid-4\"><style>#mermaid-4{font-family:arial,sans-serif;font-size:16px;fill:#ccc;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-4 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-4 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-4 .error-icon{fill:#a44141;}#mermaid-4 .error-text{fill:#ddd;stroke:#ddd;}#mermaid-4 .edge-thickness-normal{stroke-width:1px;}#mermaid-4 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-4 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-4 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-4 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-4 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-4 .marker{fill:lightgrey;stroke:lightgrey;}#mermaid-4 .marker.cross{stroke:lightgrey;}#mermaid-4 svg{font-family:arial,sans-serif;font-size:16px;}#mermaid-4 p{margin:0;}#mermaid-4 .label{font-family:arial,sans-serif;color:#ccc;}#mermaid-4 .cluster-label text{fill:#F9FFFE;}#mermaid-4 .cluster-label span{color:#F9FFFE;}#mermaid-4 .cluster-label span p{background-color:transparent;}#mermaid-4 .label text,#mermaid-4 span{fill:#ccc;color:#ccc;}#mermaid-4 .node rect,#mermaid-4 .node circle,#mermaid-4 .node ellipse,#mermaid-4 .node polygon,#mermaid-4 .node path{fill:#1f2020;stroke:#ccc;stroke-width:1px;}#mermaid-4 .rough-node .label text,#mermaid-4 .node .label text,#mermaid-4 .image-shape .label,#mermaid-4 .icon-shape .label{text-anchor:middle;}#mermaid-4 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-4 .rough-node .label,#mermaid-4 .node .label,#mermaid-4 .image-shape .label,#mermaid-4 .icon-shape .label{text-align:center;}#mermaid-4 .node.clickable{cursor:pointer;}#mermaid-4 .root .anchor path{fill:lightgrey!important;stroke-width:0;stroke:lightgrey;}#mermaid-4 .arrowheadPath{fill:lightgrey;}#mermaid-4 .edgePath .path{stroke:lightgrey;stroke-width:2.0px;}#mermaid-4 .flowchart-link{stroke:lightgrey;fill:none;}#mermaid-4 .edgeLabel{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#mermaid-4 .edgeLabel p{background-color:hsl(0, 0%, 34.4117647059%);}#mermaid-4 .edgeLabel rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#mermaid-4 .labelBkg{background-color:rgba(87.75, 87.75, 87.75, 0.5);}#mermaid-4 .cluster rect{fill:hsl(180, 1.5873015873%, 28.3529411765%);stroke:rgba(255, 255, 255, 0.25);stroke-width:1px;}#mermaid-4 .cluster text{fill:#F9FFFE;}#mermaid-4 .cluster span{color:#F9FFFE;}#mermaid-4 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:arial,sans-serif;font-size:12px;background:hsl(20, 1.5873015873%, 12.3529411765%);border:1px solid rgba(255, 255, 255, 0.25);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-4 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#ccc;}#mermaid-4 rect.text{fill:none;stroke-width:0;}#mermaid-4 .icon-shape,#mermaid-4 .image-shape{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#mermaid-4 .icon-shape p,#mermaid-4 .image-shape p{background-color:hsl(0, 0%, 34.4117647059%);padding:2px;}#mermaid-4 .icon-shape rect,#mermaid-4 .image-shape rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#mermaid-4 .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-4 .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-4 .label{line-height:normal;font-size:0.7em;}#mermaid-4 :root{--mermaid-font-family:arial,sans-serif;}</style><g><marker orient=\"auto\" markerHeight=\"8\" markerWidth=\"8\" markerUnits=\"userSpaceOnUse\" refY=\"5\" refX=\"5\" viewBox=\"0 0 10 10\" class=\"marker flowchart-v2\" id=\"mermaid-4_flowchart-v2-pointEnd\"><path style=\"stroke-width: 1; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" d=\"M 0 0 L 10 5 L 0 10 z\"></path></marker><marker orient=\"auto\" markerHeight=\"8\" markerWidth=\"8\" markerUnits=\"userSpaceOnUse\" refY=\"5\" refX=\"4.5\" viewBox=\"0 0 10 10\" class=\"marker flowchart-v2\" id=\"mermaid-4_flowchart-v2-pointStart\"><path style=\"stroke-width: 1; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" d=\"M 0 5 L 10 10 L 10 0 z\"></path></marker><marker orient=\"auto\" markerHeight=\"11\" markerWidth=\"11\" markerUnits=\"userSpaceOnUse\" refY=\"5\" refX=\"11\" viewBox=\"0 0 10 10\" class=\"marker flowchart-v2\" id=\"mermaid-4_flowchart-v2-circleEnd\"><circle style=\"stroke-width: 1; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" r=\"5\" cy=\"5\" cx=\"5\"></circle></marker><marker orient=\"auto\" markerHeight=\"11\" markerWidth=\"11\" markerUnits=\"userSpaceOnUse\" refY=\"5\" refX=\"-1\" viewBox=\"0 0 10 10\" class=\"marker flowchart-v2\" id=\"mermaid-4_flowchart-v2-circleStart\"><circle style=\"stroke-width: 1; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" r=\"5\" cy=\"5\" cx=\"5\"></circle></marker><marker orient=\"auto\" markerHeight=\"11\" markerWidth=\"11\" markerUnits=\"userSpaceOnUse\" refY=\"5.2\" refX=\"12\" viewBox=\"0 0 11 11\" class=\"marker cross flowchart-v2\" id=\"mermaid-4_flowchart-v2-crossEnd\"><path style=\"stroke-width: 2; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" d=\"M 1,1 l 9,9 M 10,1 l -9,9\"></path></marker><marker orient=\"auto\" markerHeight=\"11\" markerWidth=\"11\" markerUnits=\"userSpaceOnUse\" refY=\"5.2\" refX=\"-1\" viewBox=\"0 0 11 11\" class=\"marker cross flowchart-v2\" id=\"mermaid-4_flowchart-v2-crossStart\"><path style=\"stroke-width: 2; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" d=\"M 1,1 l 9,9 M 10,1 l -9,9\"></path></marker><g class=\"root\"><g class=\"clusters\"></g><g class=\"edgePaths\"><path marker-end=\"url(#mermaid-4_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_A_B_0\" d=\"M90.141,54.797L90.141,58.964C90.141,63.13,90.141,71.464,90.141,79.13C90.141,86.797,90.141,93.797,90.141,97.297L90.141,100.797\"></path><path marker-end=\"url(#mermaid-4_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_B_C_0\" d=\"M90.141,151.594L90.141,155.76C90.141,159.927,90.141,168.26,90.141,175.927C90.141,183.594,90.141,190.594,90.141,194.094L90.141,197.594\"></path><path marker-end=\"url(#mermaid-4_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_C_F_0\" d=\"M90.141,248.391L90.141,252.557C90.141,256.724,90.141,265.057,112.099,274.327C134.058,283.597,177.975,293.803,199.934,298.906L221.893,304.009\"></path><path marker-end=\"url(#mermaid-4_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_D_E_0\" d=\"M298.398,151.594L298.398,155.76C298.398,159.927,298.398,168.26,298.398,175.927C298.398,183.594,298.398,190.594,298.398,194.094L298.398,197.594\"></path><path marker-end=\"url(#mermaid-4_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_E_F_0\" d=\"M298.398,248.391L298.398,252.557C298.398,256.724,298.398,265.057,298.398,272.724C298.398,280.391,298.398,287.391,298.398,290.891L298.398,294.391\"></path><path marker-end=\"url(#mermaid-4_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_G_F_0\" d=\"M505.094,248.391L505.094,252.557C505.094,256.724,505.094,265.057,483.395,274.305C461.697,283.552,418.3,293.714,396.601,298.795L374.902,303.875\"></path><path marker-end=\"url(#mermaid-4_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_F_H_0\" d=\"M298.398,345.188L298.398,349.354C298.398,353.521,298.398,361.854,298.398,369.521C298.398,377.188,298.398,384.188,298.398,387.688L298.398,391.188\"></path><path marker-end=\"url(#mermaid-4_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_H_J_0\" d=\"M298.398,441.984L298.398,446.151C298.398,450.318,298.398,458.651,306.639,466.7C314.88,474.749,331.361,482.514,339.602,486.397L347.843,490.28\"></path><path marker-end=\"url(#mermaid-4_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_I_J_0\" d=\"M503.852,441.984L503.852,446.151C503.852,450.318,503.852,458.651,495.611,466.7C487.37,474.749,470.889,482.514,462.648,486.397L454.407,490.28\"></path><path marker-end=\"url(#mermaid-4_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_J_K_0\" d=\"M401.125,538.781L401.125,542.948C401.125,547.115,401.125,555.448,401.125,563.115C401.125,570.781,401.125,577.781,401.125,581.281L401.125,584.781\"></path></g><g class=\"edgeLabels\"><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g></g><g class=\"nodes\"><g transform=\"translate(90.140625, 31.3984375)\" id=\"flowchart-A-0\" class=\"node default\"><rect height=\"46.796875\" width=\"111.421875\" y=\"-23.3984375\" x=\"-55.7109375\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-25.7109375, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"51.421875\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>AST Node</p></span></div></foreignObject></g></g><g transform=\"translate(90.140625, 128.1953125)\" id=\"flowchart-B-1\" class=\"node default\"><rect height=\"46.796875\" width=\"164.28125\" y=\"-23.3984375\" x=\"-82.140625\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-52.140625, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"104.28125\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Node Type Detection</p></span></div></foreignObject></g></g><g transform=\"translate(90.140625, 224.9921875)\" id=\"flowchart-C-3\" class=\"node default\"><rect height=\"46.796875\" width=\"148.3125\" y=\"-23.3984375\" x=\"-74.15625\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-44.15625, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"88.3125\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Handler Selection</p></span></div></foreignObject></g></g><g transform=\"translate(298.3984375, 321.7890625)\" id=\"flowchart-F-5\" class=\"node default\"><rect height=\"46.796875\" width=\"145.21875\" y=\"-23.3984375\" x=\"-72.609375\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-42.609375, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"85.21875\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Code Generation</p></span></div></foreignObject></g></g><g transform=\"translate(298.3984375, 128.1953125)\" id=\"flowchart-D-6\" class=\"node default\"><rect height=\"46.796875\" width=\"120.953125\" y=\"-23.3984375\" x=\"-60.4765625\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-30.4765625, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"60.953125\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Child Nodes</p></span></div></foreignObject></g></g><g transform=\"translate(298.3984375, 224.9921875)\" id=\"flowchart-E-7\" class=\"node default\"><rect height=\"46.796875\" width=\"168.203125\" y=\"-23.3984375\" x=\"-84.1015625\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-54.1015625, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"108.203125\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Recursive Processing</p></span></div></foreignObject></g></g><g transform=\"translate(505.09375, 224.9921875)\" id=\"flowchart-G-10\" class=\"node default\"><rect height=\"46.796875\" width=\"145.1875\" y=\"-23.3984375\" x=\"-72.59375\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-42.59375, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"85.1875\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Formatting Rules</p></span></div></foreignObject></g></g><g transform=\"translate(298.3984375, 418.5859375)\" id=\"flowchart-H-13\" class=\"node default\"><rect height=\"46.796875\" width=\"166.953125\" y=\"-23.3984375\" x=\"-83.4765625\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-53.4765625, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"106.953125\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Comment Processing</p></span></div></foreignObject></g></g><g transform=\"translate(401.125, 515.3828125)\" id=\"flowchart-J-15\" class=\"node default\"><rect height=\"46.796875\" width=\"145.203125\" y=\"-23.3984375\" x=\"-72.6015625\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-42.6015625, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"85.203125\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Position Tracking</p></span></div></foreignObject></g></g><g transform=\"translate(503.8515625, 418.5859375)\" id=\"flowchart-I-16\" class=\"node default\"><rect height=\"46.796875\" width=\"143.953125\" y=\"-23.3984375\" x=\"-71.9765625\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-41.9765625, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"83.953125\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Source Positions</p></span></div></foreignObject></g></g><g transform=\"translate(401.125, 612.1796875)\" id=\"flowchart-K-19\" class=\"node default\"><rect height=\"46.796875\" width=\"130.71875\" y=\"-23.3984375\" x=\"-65.359375\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-35.359375, -8.3984375)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"16.796875\" width=\"70.71875\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Buffer Append</p></span></div></foreignObject></g></g></g></g></g></svg></p>\n<p>코드 생성 과정은 변환된 <code class=\"language-text\">AST</code>, 옵션 그리고 원본 코드를 받은 <code class=\"language-text\">generate()</code>에 의해 <code class=\"language-text\">Printer</code> 인스턴스가 생성되는 과정에서부터\n시작된다.</p>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">// packages/babel-generator/src/index.ts\nexport function generate(\n  ast: t.Node,\n  opts: GeneratorOptions = {},\n  code?: string | { [filename: string]: string }\n): GeneratorResult {\n  const format = normalizeOptions(code, opts, ast);\n  const map = opts.sourceMaps ? new SourceMap(opts, code) : null;\n\n  const printer = new Printer(\n    format,\n    map,\n    (ast as any).tokens,\n    typeof code === &#39;string&#39; ? code : null\n  );\n\n  return printer.generate(ast);\n}</code>\n        </deckgo-highlight-code>\n<p><code class=\"language-text\">Printer</code>는 <code class=\"language-text\">print()</code>를 통해 각 <code class=\"language-text\">AST</code> 노드를 방문하여 해당 노드 타입에 맞는 생성 함수를 찾아 실행한다.</p>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">// packages/babel-generator/src/printer.ts\nclass Printer {\n  ...\n  print(\n    node: t.Node | null,\n    noLineTerminatorAfter?: boolean,\n    trailingCommentsLineOffset?: number,\n  ) {\n    ...\n    const printMethod =\n      this[\n        nodeType as Exclude&lt;\n          t.Node[&quot;type&quot;],\n          | DeprecatedBabel7ASTTypes\n          | t.DeprecatedAliases[&quot;type&quot;]\n        &gt;\n      ];\n    if (printMethod === undefined) {\n      throw new ReferenceError(...);\n    }\n  }\n}</code>\n        </deckgo-highlight-code>\n<p><code class=\"language-text\">AST</code> 노드 타입별로 특화된 생성 함수들은 가령 조건문 생성을 위한 <code class=\"language-text\">IfStatement()</code>, 반복문 생성을 위한 <code class=\"language-text\">ForStatement()</code>,\n변수 선언 생성을 위한 <code class=\"language-text\">VariableDeclaration()</code>가 있다.</p>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">// packages/babel-generator/src/generators/statements.ts\nexport function IfStatement(this: Printer, node: t.IfStatement) {\n  this.word(&#39;if&#39;);\n  this.space();\n  this.token(&#39;(&#39;);\n  this.print(node.test);\n  this.token(&#39;)&#39;);\n  this.space();\n\n  const needsBlock =\n    node.alternate &amp;&amp; isIfStatement(getLastStatement(node.consequent));\n  if (needsBlock) {\n    this.token(&#39;{&#39;);\n    this.newline();\n    this.indent();\n  }\n\n  this.printAndIndentOnComments(node.consequent);\n\n  if (needsBlock) {\n    this.dedent();\n    this.newline();\n    this.token(&#39;}&#39;);\n  }\n\n  if (node.alternate) {\n    if (this.endsWith(charCodes.rightCurlyBrace)) this.space();\n    this.word(&#39;else&#39;);\n    this.space();\n    this.printAndIndentOnComments(node.alternate);\n  }\n}</code>\n        </deckgo-highlight-code>\n<p>그 외 식별자나 키워드를 출력하기 위한 <code class=\"language-text\">word()</code>, 연산자, 괄호, 구두점 등을 출력하기 위한 <code class=\"language-text\">token()</code>,\n공백 및 개행을 위한 <code class=\"language-text\">space()</code>, <code class=\"language-text\">newline()</code>과 같은 메서드를 통해 포매팅을 제어한다.</p>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">// packages/babel-generator/src/printer.ts\nclass Printer {\n  ...\n  word(str: string, noLineTerminatorAfter: boolean = false): void {\n    this.tokenContext &amp;= TokenContext.forInOrInitHeadAccumulatePassThroughMask;\n    this._maybePrintInnerComments(str);\n    this._maybeAddAuxComment();\n    if (this.tokenMap) this._catchUpToCurrentToken(str);\n\n    if (\n      this._endsWithWord ||\n      (this._endsWithDiv &amp;&amp; str.charCodeAt(0) === charCodes.slash)\n    ) {\n      this._space();\n    }\n    this._append(str, false);\n\n    this._endsWithWord = true;\n    this._noLineTerminator = noLineTerminatorAfter;\n  }\n}</code>\n        </deckgo-highlight-code>\n<p>위와 같이 생성된 코드들은 <code class=\"language-text\">Buffer</code> 클래스를 통해 관리되는데, 생성된 코드들을 지속적으로 <code class=\"language-text\">append</code>하며,\n더불어 소스맵 정보도 동시에 생성한다.</p>\n<deckgo-highlight-code language=\"ts\" theme=\"nord\"  >\n          <code slot=\"code\">export default class Buffer {\n  constructor(map: SourceMap | null, indentChar: string) {\n    this._map = map;\n    this._indentChar = indentChar;\n\n    for (let i = 0; i &lt; 64; i++) {\n      this._fastIndentations.push(indentChar.repeat(i));\n    }\n\n    this._allocQueue();\n  }\n  ...\n  get() {\n    this._flush();\n\n    const map = this._map;\n    const result = {\n      code: (this._buf + this._str).trimRight(),\n      decodedMap: map?.getDecoded(),\n\n      get __mergedMap() {\n        return this.map;\n      },\n      get map() {\n        const resultMap = map ? map.get() : null;\n        result.map = resultMap;\n        return resultMap;\n      },\n      set map(value) {\n        Object.defineProperty(result, &quot;map&quot;, { value, writable: true });\n      },\n      // Retrieving the raw mappings is very memory intensive.\n      get rawMappings() {\n        const mappings = map?.getRawMappings();\n        result.rawMappings = mappings;\n        return mappings;\n      },\n      set rawMappings(value) {\n        Object.defineProperty(result, &quot;rawMappings&quot;, { value, writable: true });\n      },\n    };\n\n    return result;\n  }</code>\n        </deckgo-highlight-code>\n<h2 id=\"마치면서\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B4%EC%84%9C\" aria-label=\"마치면서 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마치면서</h2>\n<p>문뜩 <code class=\"language-text\">babel</code> 설정값을 마주할 때나 <code class=\"language-text\">prettier</code> 플러그인을 만들며 사용했던 <code class=\"language-text\">babel</code> 패키지에 대한 궁금증 덕분에\n다시 이렇게 블로그로 돌아오게 되었다. 이전에 작성했던 패키지를 톺아보는 블로그 글을 적을 땐 꽤나 힘든 작업이라\n글 하나를 작성하는데 두세 달이 걸렸었는데, 이제는 엄청나게 똑똑하고 파괴적인 지능을 통해 정보를 쉽게 얻을 수 있게 되었다.</p>\n<p>하지만, 단순히 쉽게 얻은 정보를 활용해 내용을 채우고 싶지는 않았다. 블로그 글이 여전히 정보 전달 채널로서 유효한가에 대해\n나는 지식을 뇌에 때려 넣어주는 알약이 나오기 전까진 쉽게 얻어낸 정보를 다듬고 연결하는 역할을 계속하고 싶다.</p>\n<h2 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h2>\n<p><a href=\"https://github.com/babel/babel\">github/babel</a>\n<a href=\"https://deepwiki.com/babel/babel\">deepwiki/babel</a>\n<a href=\"https://github.com/jamiebuilds/babel-handbook\">github/babel-handbook</a></p>","frontmatter":{"title":"babel의 핵심 변환 파이프라인","description":"babel 생태계를 살펴봅니다.","date":"2025.09.05"}}},"pageContext":{"slug":"/web/babel-transpilation/","previous":{"fields":{"slug":"/react-native/metro/"},"frontmatter":{"title":"Metro 번들러의 컨셉 톺아보기"}},"next":{"fields":{"slug":"/development/google-analytics-mcp/"},"frontmatter":{"title":"Google Analytics MCP를 통한 데이터 분석"}}}},"staticQueryHashes":["3665086019"],"slicesMap":{}}